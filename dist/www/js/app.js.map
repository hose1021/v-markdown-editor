{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./dist/v-markdown-editor.css?3552","webpack:////webpack/universalModuleDefinition","webpack:////webpack/bootstrap","webpack:////src/editor.vue","webpack:////node_modules/codemirror/addon/display/fullscreen.js","webpack:////node_modules/codemirror/addon/display/placeholder.js","webpack:////node_modules/codemirror/lib/codemirror.css","webpack:////node_modules/codemirror/lib/codemirror.js","webpack:////node_modules/codemirror/mode/markdown/markdown.js","webpack:////node_modules/codemirror/mode/meta.js","webpack:////node_modules/codemirror/mode/xml/xml.js","webpack:////node_modules/markdownparser/index.js","webpack:////node_modules/marked/lib/marked.js","webpack:////node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack:////src/index.css","webpack:////src/index.js","webpack:///www/app.vue","webpack:///./www/app.vue?212e","webpack:///./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack:///(webpack)/buildin/module.js","webpack:///./www/app.js","webpack:///./www/app.vue","webpack:///./www/app.vue?ad30","webpack:///./www/app.vue?38fb","webpack:///external \"Vue\""],"names":["module","define","window","i","l","exports","modules","__webpack_require__","Object","enumerable","get","value","bind","key","props","id","type","css","width","height","toolbar","placeholder","extend","buttons","cmd","ico","title","hotkey","ready","theme","required","options","lineWrapping","data","editor","preview","fullScreen","html","toolbars","computed","styles","watch","val","methods","isEmpty","isUrl","format","a","_toggleBlock","start","end","text","ed","line","ch","startPoint","endPoint","_toggleLine","name","state","pos","ret","_replaceSelection","active","startEnd","drawImage","obj","drawLink","command","build","t","shortcuts","group","_this","mounted","destroy","mod","require","CodeMirror","defineOption","cm","old","Init","setFullscreen","setNormal","wrap","getWrapperElement","fullScreenRestore","scrollTop","pageYOffset","scrollLeft","pageXOffset","style","className","document","documentElement","overflow","refresh","replace","info","scrollTo","prev","on","onBlur","onChange","getInputField","placeholderCompose","onComposition","off","clearPlaceholder","wrapper","hasFocus","parentNode","removeChild","setPlaceholder","elt","createElement","cssText","direction","getOption","placeHolder","createTextNode","appendChild","display","lineSpace","insertBefore","firstChild","setTimeout","empty","lineCount","input","nodeName","getLine","length","test","querySelector","textContent","global","factory","undefined","userAgent","navigator","platform","gecko","ie_upto10","ie_11up","exec","edge","ie","ie_version","documentMode","webkit","qtwebkit","chrome","chrome_version","presto","safari","vendor","mac_geMountainLion","phantom","ios","maxTouchPoints","android","mobile","mac","chromeOS","windows","presto_version","match","Number","flipCtrlCmd","captureRightClick","classTest","cls","RegExp","rmClass","node","current","after","slice","index","removeChildren","e","count","childNodes","removeChildrenAndAdd","parent","tag","content","eltP","setAttribute","range","createRange","endNode","r","setEnd","setStart","body","createTextRange","moveToElementText","collapse","moveEnd","moveStart","contains","child","nodeType","host","activeElt","activeElement","shadowRoot","addClass","joinClasses","b","as","split","selectInput","select","selectionStart","selectionEnd","_e","f","args","Array","prototype","call","arguments","apply","copyObj","target","overwrite","prop","hasOwnProperty","countColumn","string","tabSize","startIndex","startValue","search","n","nextTab","indexOf","Delayed","time","handler","onTimeout","self","Date","set","ms","clearTimeout","array","scrollerGap","Pass","toString","sel_dontScroll","scroll","sel_mouse","origin","sel_move","findColumn","goal","col","skipped","Math","min","spaceStrs","spaceStr","push","lst","arr","map","out","insertSorted","score","priority","splice","nothing","createObj","base","inst","create","nonASCIISingleCaseWordChar","isWordCharBasic","toUpperCase","toLowerCase","isWordChar","helper","source","extendingChars","isExtendingChar","charCodeAt","skipExtendingChars","str","dir","charAt","findFirst","pred","from","to","midF","mid","ceil","floor","iterateBidiSections","order","found","part","max","level","bidiOther","getBidiPartAt","sticky","cur","bidiOrdering","lowTypes","arabicTypes","charType","code","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","outerType","len","types","i$1","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","j","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","m","i$7","at","isRTL","j$2","nstart","unshift","reverse","getOrder","noHandlers","emitter","addEventListener","attachEvent","_handlers","concat","getHandlers","removeEventListener","detachEvent","signal","handlers","signalDOMEvent","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","ctrlKey","dragAndDrop","div","zwspSupported","zeroWidthElement","measure","offsetHeight","offsetWidth","badBidiRects","hasBadBidiRects","txt","r0","getBoundingClientRect","r1","left","right","splitLinesAuto","result","nl","rt","hasSelection","getSelection","te","ownerDocument","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","modes","mimeModes","defineMode","mode","dependencies","defineMIME","mime","spec","resolveMode","getMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","nstate","innerMode","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","eol","sol","peek","next","eat","ok","eatWhile","eatSpace","skipToEnd","skipTo","backUp","column","indentation","pattern","consume","caseInsensitive","cased","substr","hideFirstChars","inner","lookAhead","oracle","baseToken","doc","first","size","Error","chunk","lines","children","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","diff","lineNo","no","lineAtHeight","h","outer","lh","isLine","lineNumberFor","String","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","nextLine","fromSaved","saved","save","copy","highlightLine","context","forceToEnd","st","modeGen","lineClasses","runMode","loop","o","overlay","overlays","i_end","opaque","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","styleClasses","highlightFrontier","modeFrontier","precise","findStartLine","processLine","viewFrom","viewTo","startAt","stream","callBlankLine","readToken","blankLine","token","Token","takeToken","asArray","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","op","inThisOp","WeakSet","markedSpans","has","add","attachLine","markedSpansBefore","startCh","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","offset","span$1","found$1","clearEmptySpans","newMarkers","gap","gapMarkers","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","parts","mk","find","p","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","findMaxLine","d","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","rest","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","externalMeasured","insertLineContent","maps","caches","lastChild","defaultSpecialCharPlaceholder","startStyle","endStyle","attributes","displayText","special","specialChars","mustWrap","createDocumentFragment","lastIndex","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","allText","nextChange","spanStyle","spanEndStyle","spanStartStyle","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","view","operationGroup","pushOperation","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","callbacks","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","list","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","k","gutterSpecs","gutterWidth","alignable","isWidget","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","gutters","clientWidth","eventInWidget","getAttribute","sizer","mover","paddingTop","offsetTop","paddingVert","paddingH","cachedPaddingH","getComputedStyle","currentStyle","parseInt","paddingRight","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","ensureLineHeights","rect","wrapping","curWidth","heights","rects","getClientRects","bottom","top","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageScrollY","marginTop","widgetTopHeight","ref","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","targetTop","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","chAround","boxAround","baseX","atLeft","atStart","_lineNo","closestDist","endX","dist","measureText","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","e$1","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","customCursor","$customCursor","sel","ranges","primIndex","head","drawSelectionCursor","showCursorWhenSelecting","drawSelectionRange","cursor","cursorHeight","charPos","defaultCharWidth","otherCursor","cmpCoords","fragment","padding","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openLeft","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","draggingText","selForContextMenu","reset","receivedFocus","shift","updateHeightsInViewport","prevBottom","lineDiv","viewTop","oldHeight","mustScroll","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","gutterSpace","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","update","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elementFromPoint","clear","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","markArrays","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","scrollbarsClipped","marginBottom","borderRightWidth","selectionSnapshot","anchorNode","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","removeAllRanges","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","align","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","chromeScrollHack","pixelsPerUnit","deltaMode","deltaX","deltaY","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","event","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","assign","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","handle","changeType","LeafChunk","removeInner","insertInner","iterN","BranchChunk","remaining","leaf","maybeSpill","me","spilled","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","this$1","oldH","addLineWidget","insertAt","aboveVisible","nextMarkerId","TextMarker","withOp","visual","dHeight","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","constructor","getValue","join","lineSeparator","setValue","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","link","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","readTextFromFile","file","allowDropFileTypes","reader","onerror","onload","readAsText","text$1","getData","selected","onDragStart","setData","effectAllowed","setDragImage","img","src","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","fromCharCode","keyMap","basic","pcDefault","emacsy","macDefault","normalizeKeyName","alt","ctrl","normalizeKeyMap","keymap","keyname","keys","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","shiftKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","moveVisually","bidi","mv","getWrappedLineExtent","searchInVisualLine","getRes","res","nextCh","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","leftPos","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","onKeyDown","getField","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","DOUBLECLICK_DELAY","PastClick","compare","lastClick","lastDoubleClick","clickRepeat","now","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","option","unit","addNew","moveOnDrag","behavior","contained","dragDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","preventScroll","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","defaults","optionHandlers","defineOptions","deflt","notOnInit","newBreaks","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","blur","readOnlyChanged","screenReaderLabelChanged","dragDropChanged","resetPosition","wasOn","funcs","dragFunctions","toggle","enter","over","leave","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","inp","defineInitHook","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","hiddenTextarea","border","addEditorMethods","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","check","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","lineDir","findNextLine","moveOnce","boundToLine","astral","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","contentEditable","belongsToInput","updateFromDOM","readFromDOMSoon","forceCompositionEnd","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","label","removeAttribute","showMultipleSelections","curAnchor","domToPos","curFocus","bad","posToDOM","rangeCount","getRangeAt","rng","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","pollSelection","poll","pollInterval","isInGutter","pollContent","fromIndex","fromNode","toIndex","toNode","previousSibling","newText","domTextBetween","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","scan","badPos","closing","extraLinebreak","recognizeMarker","close","addText","walk","cmText","markerID","isBlock","nodeValue","lineNode","locateNodeInLineView","textNode","topNode","curNode","dist$1","TextareaInput","prevInput","pollingFast","createField","textarea","fastPoll","prepareCopyCut","dispatchEvent","Event","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","oldScrollY","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","extval","mouseup","disabled","fromTextArea","tabindex","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","dontDelegate","method","defineExtension","func","defineDocExtension","version","cmCfg","modeCfg","htmlMode","htmlModeMissing","findModeByName","mimes","highlightFormatting","maxBlockquoteDepth","taskLists","strikethrough","emoji","fencedCodeBlockHighlighting","fencedCodeBlockDefaultMode","xml","tokenTypeOverrides","tokenTypes","header","quote","list1","list2","list3","hr","image","imageAltText","imageMarker","formatting","linkInline","linkEmail","linkText","linkHref","em","strong","tokenType","hrRE","listRE","taskListRE","atxHeaderRE","allowAtxHeaderWithoutSpace","setextHeaderRE","textRE","fencedCodeRE","linkDefRE","punctuation","expandedTab","switchInline","inline","switchBlock","block","lineIsEmpty","linkTitle","indentedCode","htmlBlock","exit","htmlState","tagStart","tokenize","isInText","inlineNormal","blockNormal","trailingSpaceNewLine","prevLine","thisLine","firstTokenOnLine","prevLineLineIsEmpty","prevLineIsIndentedCode","prevLineIsHr","prevLineIsList","maxNonCodeIndentation","listStack","lineIndentation","indentationDiff","allowsInlineContinuation","fencedCodeEnd","isHr","getType","setext","listType","taskList","fencedEndRE","localMode","localState","local","footnoteLink","md_inside","currListInd","hasExitedList","maxFencedEndInd","returnType","taskOpen","taskClosed","listMod","handleText","matchCh","regex","previousFormatting","formattingEscape","atts","substring","leftFlanking","rightFlanking","setEm","setStrong","retType","getLinkHrefInside","linkRE","endChar","returnState","footnoteLinkInside","footnoteUrl","s","textAfter","blockCommentStart","blockCommentEnd","closeBrackets","fold","modeInfo","alias","findModeByMIME","findModeByExtension","findModeByFileName","filename","dot","lastIndexOf","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","editorConf","config_","config","setStyle","inText","chain","parser","inBlock","doctype","inTag","baseState","tagName","inAttribute","stringStartCol","closure","isInAttribute","terminator","depth","lower","startOfLine","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","baseIndent","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","grabbers","configuration","skipAttribute","xmlCurrentTag","xmlCurrentContext","cx","_patterns","callback","matches","trim","escape","decode","dec","parse","regexs","_t","isArray","forEach","_defineProperties","descriptor","configurable","writable","defineProperty","_createClass","Constructor","protoProps","staticProps","_unsupportedIterableToArray","minLen","_arrayLikeToArray","arr2","_createForOfIteratorHelperLoose","allowArrayLike","it","Symbol","iterator","TypeError","createCommonjsModule","fn","getDefaults","baseUrl","breaks","gfm","headerIds","headerPrefix","langPrefix","mangle","pedantic","renderer","sanitize","sanitizer","silent","smartLists","smartypants","tokenizer","walkTokens","xhtml","changeDefaults","newDefaults","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","encode","unescapeTest","unescape","_","caret","edit","getRegex","nonWordAndColonTest","originIndependentUrl","cleanUrl","href","prot","decodeURIComponent","resolveUrl","encodeURI","baseUrls","justDomain","protocol","domain","rtrim","relativeBase","noopTest","merge","splitCells","tableRow","row","escaped","curr","cells","c","suffLen","currChar","findClosingBracket","checkSanitizeDeprecation","console","warn","repeatString","defaults$1","rtrim$1","splitCells$1","_escape","findClosingBracket$1","outputLink","cap","raw","indentCodeCompensation","matchIndentToCode","indentToCode","matchIndentInNode","indentInNode","Tokenizer_1","Tokenizer","_proto","rules","newline","lastToken","trimRight","codeBlockStyle","fences","lang","heading","trimmed","nptable","item","blockquote","bull","isordered","ordered","loose","items","itemMatch","bcurr","bnext","addBack","istask","ischecked","listItemStart","task","checked","def","table","lheading","paragraph","inLink","inRawBlock","trimmedUrl","rtrimSlash","lastParenIndex","linkLen","_escapes","reflink","links","nolink","maskedSrc","prevChar","endReg","endAst","endUnd","middle","codespan","hasNonSpaceChars","hasSpaceCharsOnBothEnds","br","del","autolink","url","prevCapZero","_backpedal","inlineText","noopTest$1","edit$1","merge$1","_paragraph","_label","_title","bullet","_tag","_comment","reflinkSearch","_punctuation","_blockSkip","_overlapSkip","blockSkip","overlapSkip","_scheme","_email","_attribute","_href","_extended_email","defaults$2","block$1","inline$1","repeatString$1","random","Lexer_1","Lexer","lex","lexer","lexInline","inlineTokens","blockTokens","errMsg","error","l2","keepPrevChar","includes","defaults$3","cleanUrl$1","escape$1","Renderer_1","Renderer","_code","infostring","_html","slugger","slug","startatt","listitem","checkbox","tablerow","tablecell","flags","_text","TextRenderer_1","TextRenderer","Slugger_1","Slugger","seen","serialize","getNextSafeSlug","originalSlug","isDryRun","occurenceAccumulator","dryrun","defaults$4","unescape$1","Parser_1","Parser","textRenderer","parseInline","l3","cell","itemBody","merge$2","checkSanitizeDeprecation$1","escape$2","defaults$5","marked","err","pending","_tokens","message","setOptions","use","extension","opts","_loop","prevRenderer","_len","_key","_loop2","prevTokenizer","_len2","_key2","_iterator","_step","_iterator2","_step2","_iterator3","_step3","_iterator4","_step4","_cell","marked_1","_vm","_c","staticClass","attrs","role","click","domProps","innerHTML","render","scriptExports","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_editor_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","_editor_vue_vue_type_template_id_7c83f806___WEBPACK_IMPORTED_MODULE_0__","component","MarkdownEditor","install","Vue","__md_editor_installed","Editor","custom","upload","md","el","App"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA,uC;;;;;;;;;;;qbCAA,yDACA,iGACAA,yBADA,IAEA,SACAC;AAAAA;AAAAA;AAAAA,qGADA,IAEA,aAIC,CATD,EASCC,MATD,CASC,WACD,M;SCVA;QACA,gC,UAEA;QACA,yDAEA;QACA,uCACA,kDACA,SALA,CAMA;QACA,+CACAC,UADA,SAEAC,OAFA,SAGAC,kBAHA,UAPA,UAaA;QACAC,yFAdA,UAgBA;QACAN,sBAjBA,UAmBA;QACA,8BACA,S,mBAGA;QACAO,sC,UAEA;QACAA,+C,UAEA;QACAA,4DACA,iDACAC,oCAA0CC,eAA1C,CAA0CC,UAA1C,WACA,SACA,CAJA,S,UAMA;QACAH,gDACA,4DACAC,kDAAwDG,cAAxD,WACA,SACAH,4CAAiDG,UAAjD,WACA,CALA,S,UAOA;SACA;SACA;SACA;SACA;QACAJ,mDACA,mDACA,+BACA,mFACA,mCACAA,kCACAC,oCAAyCC,eAAzC,CAAyCE,WAAzC,WACA,mGAAgH,kBAAqB,CAArI,CAAqIC,IAArI,CAAqI,IAArI,CAAqIC,GAArI,YACA,kBACA,CATA,S,UAWA;QACAN,+CACA,6CACA,sBAA2B,yBAA4B,CADvD,SAEA,4BAAiC,cAAe,CAFhD,SAGAA,iDACA,sBACA,CANA,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AiB;IACAD,GADA,iBACA;MACA;IACA,CAHA;IAKA8D,QALA,oBAKA9D,GALA,EAKA;MAEA2sE;IACA,CARA;IAUAnpE,OAVA,qBAUA;MACA;IACA,CAZA;IAcAi2E,MAdA,kBAcAC,EAdA,EAcA;MACAA;QAAAxI;QAAAlyE;MAAA;IACA;EAhBA;AAfA,G;;;;;;;;;;;;AC7FA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,oBAAoB,yBAAyB;AAC7C,eAAe,2BAA2B;AAC1C,iBAAiB,sBAAsB;AACvC,mBAAmB,2BAA2B;AAC9C;AACA;AACA,qBAAqB,qBAAqB;AAC1C,uBAAuB,iCAAiC;AACxD;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA;AACA;AACA,4BAA4B,2CAA2C;AACvE;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,qBAAqB;AACrB,mBAAmB;AACnB;AACA;AACA;AACA;AACA,yBAAyB,4BAA4B;AACrD;AACA;AACA,mBAAmB,sCAAsC,iBAAiB,EAAE;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,qBAAqB;AAC9C,mBAAmB;AACnB;AACA;AACA;AACA;AACA,yBAAyB,4BAA4B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,yBAAyB,+BAA+B;AACxD,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,4BAA4B;AAC7C,wCAAwC,SAAS,mBAAmB,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA;AACA,4BAA4B,8BAA8B;AAC1D,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mCAAmC;AACzD;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,sBAAsB,iCAAiC;AACvD;AACA;AACA,gBAAgB,wCAAwC;AACxD,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,yBAAyB,6BAA6B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX,oBAAoB,4CAA4C;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS,uDAAuD,EAAE;AAC7E;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;;;;;ACvMA;AAAA;AAAA;;AAEA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEAq6E,0CAAG,CAAC3C,GAAJ,CAAQ6C,8DAAR;AAEA,IAAIF,0CAAJ,CAAQ;EACNM,EAAE,EAAE,MADE;EAGNpB,MAAM,EAAE,gBAAAr8D,CAAC;IAAA,OAAIA,CAAC,CAAC09D,gDAAD,CAAL;EAAA;AAHH,CAAR,E;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkF;AAC3B;AACL;;;AAGlD;AACuF;AACvF,gBAAgB,2GAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,8EAAM;AACR,EAAE,uFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAA6J,CAAgB,uOAAG,EAAC,C;;;;;;;;;;;;ACAjL;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA,qB","file":"js/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./www/app.js\");\n","// extracted by mini-css-extract-plugin","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","export * from \"-!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/vue-loader/lib/index.js??vue-loader-options!./editor.vue?vue&type=template&id=7c83f806&\"","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"fullScreen\", false, function(cm, val, old) {\n    if (old == CodeMirror.Init) old = false;\n    if (!old == !val) return;\n    if (val) setFullscreen(cm);\n    else setNormal(cm);\n  });\n\n  function setFullscreen(cm) {\n    var wrap = cm.getWrapperElement();\n    cm.state.fullScreenRestore = {scrollTop: window.pageYOffset, scrollLeft: window.pageXOffset,\n                                  width: wrap.style.width, height: wrap.style.height};\n    wrap.style.width = \"\";\n    wrap.style.height = \"auto\";\n    wrap.className += \" CodeMirror-fullscreen\";\n    document.documentElement.style.overflow = \"hidden\";\n    cm.refresh();\n  }\n\n  function setNormal(cm) {\n    var wrap = cm.getWrapperElement();\n    wrap.className = wrap.className.replace(/\\s*CodeMirror-fullscreen\\b/, \"\");\n    document.documentElement.style.overflow = \"\";\n    var info = cm.state.fullScreenRestore;\n    wrap.style.width = info.width; wrap.style.height = info.height;\n    window.scrollTo(info.scrollLeft, info.scrollTop);\n    cm.refresh();\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  CodeMirror.defineOption(\"placeholder\", \"\", function(cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n    if (val && !prev) {\n      cm.on(\"blur\", onBlur);\n      cm.on(\"change\", onChange);\n      cm.on(\"swapDoc\", onChange);\n      CodeMirror.on(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose = function() { onComposition(cm) })\n      onChange(cm);\n    } else if (!val && prev) {\n      cm.off(\"blur\", onBlur);\n      cm.off(\"change\", onChange);\n      cm.off(\"swapDoc\", onChange);\n      CodeMirror.off(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose)\n      clearPlaceholder(cm);\n      var wrapper = cm.getWrapperElement();\n      wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\");\n    }\n\n    if (val && !cm.hasFocus()) onBlur(cm);\n  });\n\n  function clearPlaceholder(cm) {\n    if (cm.state.placeholder) {\n      cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);\n      cm.state.placeholder = null;\n    }\n  }\n  function setPlaceholder(cm) {\n    clearPlaceholder(cm);\n    var elt = cm.state.placeholder = document.createElement(\"pre\");\n    elt.style.cssText = \"height: 0; overflow: visible\";\n    elt.style.direction = cm.getOption(\"direction\");\n    elt.className = \"CodeMirror-placeholder CodeMirror-line-like\";\n    var placeHolder = cm.getOption(\"placeholder\")\n    if (typeof placeHolder == \"string\") placeHolder = document.createTextNode(placeHolder)\n    elt.appendChild(placeHolder)\n    cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);\n  }\n\n  function onComposition(cm) {\n    setTimeout(function() {\n      var empty = false\n      if (cm.lineCount() == 1) {\n        var input = cm.getInputField()\n        empty = input.nodeName == \"TEXTAREA\" ? !cm.getLine(0).length\n          : !/[^\\u200b]/.test(input.querySelector(\".CodeMirror-line\").textContent)\n      }\n      if (empty) setPlaceholder(cm)\n      else clearPlaceholder(cm)\n    }, 20)\n  }\n\n  function onBlur(cm) {\n    if (isEmpty(cm)) setPlaceholder(cm);\n  }\n  function onChange(cm) {\n    var wrapper = cm.getWrapperElement(), empty = isEmpty(cm);\n    wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\") + (empty ? \" CodeMirror-empty\" : \"\");\n\n    if (empty) setPlaceholder(cm);\n    else clearPlaceholder(cm);\n  }\n\n  function isEmpty(cm) {\n    return (cm.lineCount() === 1) && (cm.getLine(0) === \"\");\n  }\n});\n","// extracted by mini-css-extract-plugin","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\/(\\d+)/.exec(userAgent);\n  var chrome_version = chrome && +chrome[1];\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = safari && (/Mobile\\/\\w+/.test(userAgent) || navigator.maxTouchPoints > 2);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 50;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n\n  // Add a span to a line.\n  function addMarkedSpan(line, span, op) {\n    var inThisOp = op && window.WeakSet && (op.markedSpans || (op.markedSpans = new WeakSet));\n    if (inThisOp && line.markedSpans && inThisOp.has(line.markedSpans)) {\n      line.markedSpans.push(span);\n    } else {\n      line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n      if (inThisOp) { inThisOp.add(line.markedSpans); }\n    }\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      gutterWrap.setAttribute(\"aria-hidden\", \"true\");\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    if (lineView.rest) {\n      for (var i = 0; i < lineView.rest.length; i++)\n        { if (lineView.rest[i] == line)\n          { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n      for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n        { if (lineNo(lineView.rest[i$1]) > lineN)\n          { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n    }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var ref = visualLine(lineObj);\n    var widgets = ref.widgets;\n    var height = 0;\n    if (widgets) { for (var i = 0; i < widgets.length; ++i) { if (widgets[i].above)\n      { height += widgetHeight(widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e$1) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    var customCursor = cm.options.$customCursor;\n    if (customCursor) { primary = true; }\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (customCursor) {\n        var head = customCursor(cm, range);\n        if (head) { drawSelectionCursor(cm, head, curFragment); }\n      } else if (collapsed || cm.options.showCursorWhenSelecting) {\n        drawSelectionCursor(cm, range.head, curFragment);\n      }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (/\\bcm-fat-cursor\\b/.test(cm.getWrapperElement().className)) {\n      var charPos = charCoords(cm, head, \"div\", null, null);\n      var width = charPos.right - charPos.left;\n      cursor.style.width = (width > 0 ? width : cm.defaultCharWidth()) + \"px\";\n    }\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () {\n        if (!cm.hasFocus()) { onBlur(cm); }\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.hasFocus()) {\n      cm.display.input.focus();\n      if (!cm.state.focused) { onFocus(cm); }\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      if (cm.state.focused) { onBlur(cm); }\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    var viewTop = Math.max(0, display.scroller.getBoundingClientRect().top);\n    var oldHeight = display.lineDiv.getBoundingClientRect().top;\n    var mustScroll = 0;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      oldHeight += cur.line.height;\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        if (oldHeight < viewTop) { mustScroll -= diff; }\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n    if (Math.abs(mustScroll) > 2) { display.scroller.scrollTop += mustScroll; }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.scrollTop = 0;\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId,          // Unique ID\n      markArrays: null         // Used by addMarkedSpan\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) &&\n        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n    // Send an event to consumers responding to changes in gutter width.\n    signalLater(display, \"gutterChanged\", display);\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // This attribute is respected by automatic translation systems such as Google Translate,\n    // and may also be respected by tools used by human translators.\n    d.wrapper.setAttribute('translate', 'no');\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    // On Chrome 102, viewport updates somehow stop wheel-based\n    // scrolling. Turning off pointer events during the scroll seems\n    // to avoid the issue.\n    if (chrome && chrome_version >= 102) {\n      if (cm.display.chromeScrollHack == null) { cm.display.sizer.style.pointerEvents = \"none\"; }\n      else { clearTimeout(cm.display.chromeScrollHack); }\n      cm.display.chromeScrollHack = setTimeout(function () {\n        cm.display.chromeScrollHack = null;\n        cm.display.sizer.style.pointerEvents = \"\";\n      }, 100);\n    }\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n    var pixelsPerUnit = wheelPixelsPerUnit;\n    if (e.deltaMode === 0) {\n      dx = e.deltaX;\n      dy = e.deltaY;\n      pixelsPerUnit = 1;\n    }\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && pixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * pixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * pixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && pixelsPerUnit != null) {\n      var pixels = dy * pixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20 && e.deltaMode !== 0) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    cm.options.direction = doc.direction;\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(prev) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = prev ? prev.undoDepth : Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\")\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null), doc.cm && doc.cm.curOp);\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      if (lineSep === '') { return lines.join('') }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head || ranges[i].anchor)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {\n      var this$1 = this;\n\n      this.history = new History(this.history);\n      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);\n    },\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(\n                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return\n        }\n        var reader = new FileReader;\n        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n        reader.onload = function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return\n          }\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e$1){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 224: \"Mod\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\", \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\",\n    \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\",\n    \"Ctrl-T\": \"transposeChars\", \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"codepoint\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      if (cm.state.delayingBlurEvent) {\n        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }\n        else { delayBlurEvent(cm); }\n      }\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if ((webkit && !safari) || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { return display.input.focus(); }, 20);\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    if (ie) { delayBlurEvent(cm); }\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e$1) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = (val === '') ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(function () {\n        if (this$1.hasFocus() && !this$1.state.focused) { onFocus(this$1); }\n      }, 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n    });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\"))\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput && cm.hasFocus())\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n  // doesn't cross line boundaries), \"word\" (across next word), or\n  // \"group\" (to the start of next group of word or\n  // non-word-non-whitespace chars). The visually param controls\n  // whether, in right-to-left text, direction 1 means to move towards\n  // the next index in the string, or towards the character to the right\n  // of the current position. The resulting position will have a\n  // hitSide=true property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n    function findNextLine() {\n      var l = pos.line + lineDir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (unit == \"codepoint\") {\n        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n        if (isNaN(ch)) {\n          next = null;\n        } else {\n          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n        }\n      } else if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\" || unit == \"codepoint\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    div.contentEditable = true;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) { return true }\n        if (/\\bCodeMirror-(?:line)?widget\\b/.test(t.className)) { break }\n      }\n      return false\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = activeElt();\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = activeElt() == this.div;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || activeElt() != this.div)\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n      var this$1 = this;\n\n    var input = this;\n    if (this.selectionInEditor())\n      { setTimeout(function () { return this$1.pollSelection(); }, 20); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n    this.textarea.readOnly = !!val;\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, …*/) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.65.5\";\n\n  return CodeMirror;\n\n})));\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../meta\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../meta\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"markdown\", function(cmCfg, modeCfg) {\n\n  var htmlMode = CodeMirror.getMode(cmCfg, \"text/html\");\n  var htmlModeMissing = htmlMode.name == \"null\"\n\n  function getMode(name) {\n    if (CodeMirror.findModeByName) {\n      var found = CodeMirror.findModeByName(name);\n      if (found) name = found.mime || found.mimes[0];\n    }\n    var mode = CodeMirror.getMode(cmCfg, name);\n    return mode.name == \"null\" ? null : mode;\n  }\n\n  // Should characters that affect highlighting be highlighted separate?\n  // Does not include characters that will be output (such as `1.` and `-` for lists)\n  if (modeCfg.highlightFormatting === undefined)\n    modeCfg.highlightFormatting = false;\n\n  // Maximum number of nested blockquotes. Set to 0 for infinite nesting.\n  // Excess `>` will emit `error` token.\n  if (modeCfg.maxBlockquoteDepth === undefined)\n    modeCfg.maxBlockquoteDepth = 0;\n\n  // Turn on task lists? (\"- [ ] \" and \"- [x] \")\n  if (modeCfg.taskLists === undefined) modeCfg.taskLists = false;\n\n  // Turn on strikethrough syntax\n  if (modeCfg.strikethrough === undefined)\n    modeCfg.strikethrough = false;\n\n  if (modeCfg.emoji === undefined)\n    modeCfg.emoji = false;\n\n  if (modeCfg.fencedCodeBlockHighlighting === undefined)\n    modeCfg.fencedCodeBlockHighlighting = true;\n\n  if (modeCfg.fencedCodeBlockDefaultMode === undefined)\n    modeCfg.fencedCodeBlockDefaultMode = 'text/plain';\n\n  if (modeCfg.xml === undefined)\n    modeCfg.xml = true;\n\n  // Allow token types to be overridden by user-provided token types.\n  if (modeCfg.tokenTypeOverrides === undefined)\n    modeCfg.tokenTypeOverrides = {};\n\n  var tokenTypes = {\n    header: \"header\",\n    code: \"comment\",\n    quote: \"quote\",\n    list1: \"variable-2\",\n    list2: \"variable-3\",\n    list3: \"keyword\",\n    hr: \"hr\",\n    image: \"image\",\n    imageAltText: \"image-alt-text\",\n    imageMarker: \"image-marker\",\n    formatting: \"formatting\",\n    linkInline: \"link\",\n    linkEmail: \"link\",\n    linkText: \"link\",\n    linkHref: \"string\",\n    em: \"em\",\n    strong: \"strong\",\n    strikethrough: \"strikethrough\",\n    emoji: \"builtin\"\n  };\n\n  for (var tokenType in tokenTypes) {\n    if (tokenTypes.hasOwnProperty(tokenType) && modeCfg.tokenTypeOverrides[tokenType]) {\n      tokenTypes[tokenType] = modeCfg.tokenTypeOverrides[tokenType];\n    }\n  }\n\n  var hrRE = /^([*\\-_])(?:\\s*\\1){2,}\\s*$/\n  ,   listRE = /^(?:[*\\-+]|^[0-9]+([.)]))\\s+/\n  ,   taskListRE = /^\\[(x| )\\](?=\\s)/i // Must follow listRE\n  ,   atxHeaderRE = modeCfg.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/\n  ,   setextHeaderRE = /^ {0,3}(?:\\={1,}|-{2,})\\s*$/\n  ,   textRE = /^[^#!\\[\\]*_\\\\<>` \"'(~:]+/\n  ,   fencedCodeRE = /^(~~~+|```+)[ \\t]*([\\w\\/+#-]*)[^\\n`]*$/\n  ,   linkDefRE = /^\\s*\\[[^\\]]+?\\]:.*$/ // naive link-definition\n  ,   punctuation = /[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/\n  ,   expandedTab = \"    \" // CommonMark specifies tab as 4 spaces\n\n  function switchInline(stream, state, f) {\n    state.f = state.inline = f;\n    return f(stream, state);\n  }\n\n  function switchBlock(stream, state, f) {\n    state.f = state.block = f;\n    return f(stream, state);\n  }\n\n  function lineIsEmpty(line) {\n    return !line || !/\\S/.test(line.string)\n  }\n\n  // Blocks\n\n  function blankLine(state) {\n    // Reset linkTitle state\n    state.linkTitle = false;\n    state.linkHref = false;\n    state.linkText = false;\n    // Reset EM state\n    state.em = false;\n    // Reset STRONG state\n    state.strong = false;\n    // Reset strikethrough state\n    state.strikethrough = false;\n    // Reset state.quote\n    state.quote = 0;\n    // Reset state.indentedCode\n    state.indentedCode = false;\n    if (state.f == htmlBlock) {\n      var exit = htmlModeMissing\n      if (!exit) {\n        var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n        exit = inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n          (!inner.state.context && inner.state.tokenize.isInText)\n      }\n      if (exit) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    // Reset state.trailingSpace\n    state.trailingSpace = 0;\n    state.trailingSpaceNewLine = false;\n    // Mark this line as blank\n    state.prevLine = state.thisLine\n    state.thisLine = {stream: null}\n    return null;\n  }\n\n  function blockNormal(stream, state) {\n    var firstTokenOnLine = stream.column() === state.indentation;\n    var prevLineLineIsEmpty = lineIsEmpty(state.prevLine.stream);\n    var prevLineIsIndentedCode = state.indentedCode;\n    var prevLineIsHr = state.prevLine.hr;\n    var prevLineIsList = state.list !== false;\n    var maxNonCodeIndentation = (state.listStack[state.listStack.length - 1] || 0) + 3;\n\n    state.indentedCode = false;\n\n    var lineIndentation = state.indentation;\n    // compute once per line (on first token)\n    if (state.indentationDiff === null) {\n      state.indentationDiff = state.indentation;\n      if (prevLineIsList) {\n        state.list = null;\n        // While this list item's marker's indentation is less than the deepest\n        //  list item's content's indentation,pop the deepest list item\n        //  indentation off the stack, and update block indentation state\n        while (lineIndentation < state.listStack[state.listStack.length - 1]) {\n          state.listStack.pop();\n          if (state.listStack.length) {\n            state.indentation = state.listStack[state.listStack.length - 1];\n          // less than the first list's indent -> the line is no longer a list\n          } else {\n            state.list = false;\n          }\n        }\n        if (state.list !== false) {\n          state.indentationDiff = lineIndentation - state.listStack[state.listStack.length - 1]\n        }\n      }\n    }\n\n    // not comprehensive (currently only for setext detection purposes)\n    var allowsInlineContinuation = (\n        !prevLineLineIsEmpty && !prevLineIsHr && !state.prevLine.header &&\n        (!prevLineIsList || !prevLineIsIndentedCode) &&\n        !state.prevLine.fencedCodeEnd\n    );\n\n    var isHr = (state.list === false || prevLineIsHr || prevLineLineIsEmpty) &&\n      state.indentation <= maxNonCodeIndentation && stream.match(hrRE);\n\n    var match = null;\n    if (state.indentationDiff >= 4 && (prevLineIsIndentedCode || state.prevLine.fencedCodeEnd ||\n         state.prevLine.header || prevLineLineIsEmpty)) {\n      stream.skipToEnd();\n      state.indentedCode = true;\n      return tokenTypes.code;\n    } else if (stream.eatSpace()) {\n      return null;\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(atxHeaderRE)) && match[1].length <= 6) {\n      state.quote = 0;\n      state.header = match[1].length;\n      state.thisLine.header = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      state.f = state.inline;\n      return getType(state);\n    } else if (state.indentation <= maxNonCodeIndentation && stream.eat('>')) {\n      state.quote = firstTokenOnLine ? 1 : state.quote + 1;\n      if (modeCfg.highlightFormatting) state.formatting = \"quote\";\n      stream.eatSpace();\n      return getType(state);\n    } else if (!isHr && !state.setext && firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(listRE))) {\n      var listType = match[1] ? \"ol\" : \"ul\";\n\n      state.indentation = lineIndentation + stream.current().length;\n      state.list = true;\n      state.quote = 0;\n\n      // Add this list item's content's indentation to the stack\n      state.listStack.push(state.indentation);\n      // Reset inline styles which shouldn't propagate across list items\n      state.em = false;\n      state.strong = false;\n      state.code = false;\n      state.strikethrough = false;\n\n      if (modeCfg.taskLists && stream.match(taskListRE, false)) {\n        state.taskList = true;\n      }\n      state.f = state.inline;\n      if (modeCfg.highlightFormatting) state.formatting = [\"list\", \"list-\" + listType];\n      return getType(state);\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(fencedCodeRE, true))) {\n      state.quote = 0;\n      state.fencedEndRE = new RegExp(match[1] + \"+ *$\");\n      // try switching mode\n      state.localMode = modeCfg.fencedCodeBlockHighlighting && getMode(match[2] || modeCfg.fencedCodeBlockDefaultMode );\n      if (state.localMode) state.localState = CodeMirror.startState(state.localMode);\n      state.f = state.block = local;\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      state.code = -1\n      return getType(state);\n    // SETEXT has lowest block-scope precedence after HR, so check it after\n    //  the others (code, blockquote, list...)\n    } else if (\n      // if setext set, indicates line after ---/===\n      state.setext || (\n        // line before ---/===\n        (!allowsInlineContinuation || !prevLineIsList) && !state.quote && state.list === false &&\n        !state.code && !isHr && !linkDefRE.test(stream.string) &&\n        (match = stream.lookAhead(1)) && (match = match.match(setextHeaderRE))\n      )\n    ) {\n      if ( !state.setext ) {\n        state.header = match[0].charAt(0) == '=' ? 1 : 2;\n        state.setext = state.header;\n      } else {\n        state.header = state.setext;\n        // has no effect on type so we can reset it now\n        state.setext = 0;\n        stream.skipToEnd();\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      }\n      state.thisLine.header = true;\n      state.f = state.inline;\n      return getType(state);\n    } else if (isHr) {\n      stream.skipToEnd();\n      state.hr = true;\n      state.thisLine.hr = true;\n      return tokenTypes.hr;\n    } else if (stream.peek() === '[') {\n      return switchInline(stream, state, footnoteLink);\n    }\n\n    return switchInline(stream, state, state.inline);\n  }\n\n  function htmlBlock(stream, state) {\n    var style = htmlMode.token(stream, state.htmlState);\n    if (!htmlModeMissing) {\n      var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n      if ((inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n           (!inner.state.context && inner.state.tokenize.isInText)) ||\n          (state.md_inside && stream.current().indexOf(\">\") > -1)) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    return style;\n  }\n\n  function local(stream, state) {\n    var currListInd = state.listStack[state.listStack.length - 1] || 0;\n    var hasExitedList = state.indentation < currListInd;\n    var maxFencedEndInd = currListInd + 3;\n    if (state.fencedEndRE && state.indentation <= maxFencedEndInd && (hasExitedList || stream.match(state.fencedEndRE))) {\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      var returnType;\n      if (!hasExitedList) returnType = getType(state)\n      state.localMode = state.localState = null;\n      state.block = blockNormal;\n      state.f = inlineNormal;\n      state.fencedEndRE = null;\n      state.code = 0\n      state.thisLine.fencedCodeEnd = true;\n      if (hasExitedList) return switchBlock(stream, state, state.block);\n      return returnType;\n    } else if (state.localMode) {\n      return state.localMode.token(stream, state.localState);\n    } else {\n      stream.skipToEnd();\n      return tokenTypes.code;\n    }\n  }\n\n  // Inline\n  function getType(state) {\n    var styles = [];\n\n    if (state.formatting) {\n      styles.push(tokenTypes.formatting);\n\n      if (typeof state.formatting === \"string\") state.formatting = [state.formatting];\n\n      for (var i = 0; i < state.formatting.length; i++) {\n        styles.push(tokenTypes.formatting + \"-\" + state.formatting[i]);\n\n        if (state.formatting[i] === \"header\") {\n          styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.header);\n        }\n\n        // Add `formatting-quote` and `formatting-quote-#` for blockquotes\n        // Add `error` instead if the maximum blockquote nesting depth is passed\n        if (state.formatting[i] === \"quote\") {\n          if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n            styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.quote);\n          } else {\n            styles.push(\"error\");\n          }\n        }\n      }\n    }\n\n    if (state.taskOpen) {\n      styles.push(\"meta\");\n      return styles.length ? styles.join(' ') : null;\n    }\n    if (state.taskClosed) {\n      styles.push(\"property\");\n      return styles.length ? styles.join(' ') : null;\n    }\n\n    if (state.linkHref) {\n      styles.push(tokenTypes.linkHref, \"url\");\n    } else { // Only apply inline styles to non-url text\n      if (state.strong) { styles.push(tokenTypes.strong); }\n      if (state.em) { styles.push(tokenTypes.em); }\n      if (state.strikethrough) { styles.push(tokenTypes.strikethrough); }\n      if (state.emoji) { styles.push(tokenTypes.emoji); }\n      if (state.linkText) { styles.push(tokenTypes.linkText); }\n      if (state.code) { styles.push(tokenTypes.code); }\n      if (state.image) { styles.push(tokenTypes.image); }\n      if (state.imageAltText) { styles.push(tokenTypes.imageAltText, \"link\"); }\n      if (state.imageMarker) { styles.push(tokenTypes.imageMarker); }\n    }\n\n    if (state.header) { styles.push(tokenTypes.header, tokenTypes.header + \"-\" + state.header); }\n\n    if (state.quote) {\n      styles.push(tokenTypes.quote);\n\n      // Add `quote-#` where the maximum for `#` is modeCfg.maxBlockquoteDepth\n      if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n        styles.push(tokenTypes.quote + \"-\" + state.quote);\n      } else {\n        styles.push(tokenTypes.quote + \"-\" + modeCfg.maxBlockquoteDepth);\n      }\n    }\n\n    if (state.list !== false) {\n      var listMod = (state.listStack.length - 1) % 3;\n      if (!listMod) {\n        styles.push(tokenTypes.list1);\n      } else if (listMod === 1) {\n        styles.push(tokenTypes.list2);\n      } else {\n        styles.push(tokenTypes.list3);\n      }\n    }\n\n    if (state.trailingSpaceNewLine) {\n      styles.push(\"trailing-space-new-line\");\n    } else if (state.trailingSpace) {\n      styles.push(\"trailing-space-\" + (state.trailingSpace % 2 ? \"a\" : \"b\"));\n    }\n\n    return styles.length ? styles.join(' ') : null;\n  }\n\n  function handleText(stream, state) {\n    if (stream.match(textRE, true)) {\n      return getType(state);\n    }\n    return undefined;\n  }\n\n  function inlineNormal(stream, state) {\n    var style = state.text(stream, state);\n    if (typeof style !== 'undefined')\n      return style;\n\n    if (state.list) { // List marker (*, +, -, 1., etc)\n      state.list = null;\n      return getType(state);\n    }\n\n    if (state.taskList) {\n      var taskOpen = stream.match(taskListRE, true)[1] === \" \";\n      if (taskOpen) state.taskOpen = true;\n      else state.taskClosed = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"task\";\n      state.taskList = false;\n      return getType(state);\n    }\n\n    state.taskOpen = false;\n    state.taskClosed = false;\n\n    if (state.header && stream.match(/^#+$/, true)) {\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      return getType(state);\n    }\n\n    var ch = stream.next();\n\n    // Matches link titles present on next line\n    if (state.linkTitle) {\n      state.linkTitle = false;\n      var matchCh = ch;\n      if (ch === '(') {\n        matchCh = ')';\n      }\n      matchCh = (matchCh+'').replace(/([.?*+^\\[\\]\\\\(){}|-])/g, \"\\\\$1\");\n      var regex = '^\\\\s*(?:[^' + matchCh + '\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)' + matchCh;\n      if (stream.match(new RegExp(regex), true)) {\n        return tokenTypes.linkHref;\n      }\n    }\n\n    // If this block is changed, it may need to be updated in GFM mode\n    if (ch === '`') {\n      var previousFormatting = state.formatting;\n      if (modeCfg.highlightFormatting) state.formatting = \"code\";\n      stream.eatWhile('`');\n      var count = stream.current().length\n      if (state.code == 0 && (!state.quote || count == 1)) {\n        state.code = count\n        return getType(state)\n      } else if (count == state.code) { // Must be exact\n        var t = getType(state)\n        state.code = 0\n        return t\n      } else {\n        state.formatting = previousFormatting\n        return getType(state)\n      }\n    } else if (state.code) {\n      return getType(state);\n    }\n\n    if (ch === '\\\\') {\n      stream.next();\n      if (modeCfg.highlightFormatting) {\n        var type = getType(state);\n        var formattingEscape = tokenTypes.formatting + \"-escape\";\n        return type ? type + \" \" + formattingEscape : formattingEscape;\n      }\n    }\n\n    if (ch === '!' && stream.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/, false)) {\n      state.imageMarker = true;\n      state.image = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === '[' && state.imageMarker && stream.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/, false)) {\n      state.imageMarker = false;\n      state.imageAltText = true\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.imageAltText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      var type = getType(state);\n      state.imageAltText = false;\n      state.image = false;\n      state.inline = state.f = linkHref;\n      return type;\n    }\n\n    if (ch === '[' && !state.image) {\n      if (state.linkText && stream.match(/^.*?\\]/)) return getType(state)\n      state.linkText = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.linkText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      state.linkText = false;\n      state.inline = state.f = stream.match(/\\(.*?\\)| ?\\[.*?\\]/, false) ? linkHref : inlineNormal\n      return type;\n    }\n\n    if (ch === '<' && stream.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    if (ch === '<' && stream.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkEmail;\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i, false)) {\n      var end = stream.string.indexOf(\">\", stream.pos);\n      if (end != -1) {\n        var atts = stream.string.substring(stream.start, end);\n        if (/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(atts)) state.md_inside = true;\n      }\n      stream.backUp(1);\n      state.htmlState = CodeMirror.startState(htmlMode);\n      return switchBlock(stream, state, htmlBlock);\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^\\/\\w*?>/)) {\n      state.md_inside = false;\n      return \"tag\";\n    } else if (ch === \"*\" || ch === \"_\") {\n      var len = 1, before = stream.pos == 1 ? \" \" : stream.string.charAt(stream.pos - 2)\n      while (len < 3 && stream.eat(ch)) len++\n      var after = stream.peek() || \" \"\n      // See http://spec.commonmark.org/0.27/#emphasis-and-strong-emphasis\n      var leftFlanking = !/\\s/.test(after) && (!punctuation.test(after) || /\\s/.test(before) || punctuation.test(before))\n      var rightFlanking = !/\\s/.test(before) && (!punctuation.test(before) || /\\s/.test(after) || punctuation.test(after))\n      var setEm = null, setStrong = null\n      if (len % 2) { // Em\n        if (!state.em && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setEm = true\n        else if (state.em == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setEm = false\n      }\n      if (len > 1) { // Strong\n        if (!state.strong && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setStrong = true\n        else if (state.strong == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setStrong = false\n      }\n      if (setStrong != null || setEm != null) {\n        if (modeCfg.highlightFormatting) state.formatting = setEm == null ? \"strong\" : setStrong == null ? \"em\" : \"strong em\"\n        if (setEm === true) state.em = ch\n        if (setStrong === true) state.strong = ch\n        var t = getType(state)\n        if (setEm === false) state.em = false\n        if (setStrong === false) state.strong = false\n        return t\n      }\n    } else if (ch === ' ') {\n      if (stream.eat('*') || stream.eat('_')) { // Probably surrounded by spaces\n        if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n          return getType(state);\n        } else { // Not surrounded by spaces, back up pointer\n          stream.backUp(1);\n        }\n      }\n    }\n\n    if (modeCfg.strikethrough) {\n      if (ch === '~' && stream.eatWhile(ch)) {\n        if (state.strikethrough) {// Remove strikethrough\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          var t = getType(state);\n          state.strikethrough = false;\n          return t;\n        } else if (stream.match(/^[^\\s]/, false)) {// Add strikethrough\n          state.strikethrough = true;\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          return getType(state);\n        }\n      } else if (ch === ' ') {\n        if (stream.match('~~', true)) { // Probably surrounded by space\n          if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n            return getType(state);\n          } else { // Not surrounded by spaces, back up pointer\n            stream.backUp(2);\n          }\n        }\n      }\n    }\n\n    if (modeCfg.emoji && ch === \":\" && stream.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)) {\n      state.emoji = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"emoji\";\n      var retType = getType(state);\n      state.emoji = false;\n      return retType;\n    }\n\n    if (ch === ' ') {\n      if (stream.match(/^ +$/, false)) {\n        state.trailingSpace++;\n      } else if (state.trailingSpace) {\n        state.trailingSpaceNewLine = true;\n      }\n    }\n\n    return getType(state);\n  }\n\n  function linkInline(stream, state) {\n    var ch = stream.next();\n\n    if (ch === \">\") {\n      state.f = state.inline = inlineNormal;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    stream.match(/^[^>]+/, true);\n\n    return tokenTypes.linkInline;\n  }\n\n  function linkHref(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    var ch = stream.next();\n    if (ch === '(' || ch === '[') {\n      state.f = state.inline = getLinkHrefInside(ch === \"(\" ? \")\" : \"]\");\n      if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n      state.linkHref = true;\n      return getType(state);\n    }\n    return 'error';\n  }\n\n  var linkRE = {\n    \")\": /^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\n    \"]\": /^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/\n  }\n\n  function getLinkHrefInside(endChar) {\n    return function(stream, state) {\n      var ch = stream.next();\n\n      if (ch === endChar) {\n        state.f = state.inline = inlineNormal;\n        if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n        var returnState = getType(state);\n        state.linkHref = false;\n        return returnState;\n      }\n\n      stream.match(linkRE[endChar])\n      state.linkHref = true;\n      return getType(state);\n    };\n  }\n\n  function footnoteLink(stream, state) {\n    if (stream.match(/^([^\\]\\\\]|\\\\.)*\\]:/, false)) {\n      state.f = footnoteLinkInside;\n      stream.next(); // Consume [\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      state.linkText = true;\n      return getType(state);\n    }\n    return switchInline(stream, state, inlineNormal);\n  }\n\n  function footnoteLinkInside(stream, state) {\n    if (stream.match(']:', true)) {\n      state.f = state.inline = footnoteUrl;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var returnType = getType(state);\n      state.linkText = false;\n      return returnType;\n    }\n\n    stream.match(/^([^\\]\\\\]|\\\\.)+/, true);\n\n    return tokenTypes.linkText;\n  }\n\n  function footnoteUrl(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    // Match URL\n    stream.match(/^[^\\s]+/, true);\n    // Check for link title\n    if (stream.peek() === undefined) { // End of line, set flag to check next line\n      state.linkTitle = true;\n    } else { // More content on line, check if link title\n      stream.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\.)+\"|'(?:[^'\\\\]|\\\\.)+'|\\((?:[^)\\\\]|\\\\.)+\\)))?/, true);\n    }\n    state.f = state.inline = inlineNormal;\n    return tokenTypes.linkHref + \" url\";\n  }\n\n  var mode = {\n    startState: function() {\n      return {\n        f: blockNormal,\n\n        prevLine: {stream: null},\n        thisLine: {stream: null},\n\n        block: blockNormal,\n        htmlState: null,\n        indentation: 0,\n\n        inline: inlineNormal,\n        text: handleText,\n\n        formatting: false,\n        linkText: false,\n        linkHref: false,\n        linkTitle: false,\n        code: 0,\n        em: false,\n        strong: false,\n        header: 0,\n        setext: 0,\n        hr: false,\n        taskList: false,\n        list: false,\n        listStack: [],\n        quote: 0,\n        trailingSpace: 0,\n        trailingSpaceNewLine: false,\n        strikethrough: false,\n        emoji: false,\n        fencedEndRE: null\n      };\n    },\n\n    copyState: function(s) {\n      return {\n        f: s.f,\n\n        prevLine: s.prevLine,\n        thisLine: s.thisLine,\n\n        block: s.block,\n        htmlState: s.htmlState && CodeMirror.copyState(htmlMode, s.htmlState),\n        indentation: s.indentation,\n\n        localMode: s.localMode,\n        localState: s.localMode ? CodeMirror.copyState(s.localMode, s.localState) : null,\n\n        inline: s.inline,\n        text: s.text,\n        formatting: false,\n        linkText: s.linkText,\n        linkTitle: s.linkTitle,\n        linkHref: s.linkHref,\n        code: s.code,\n        em: s.em,\n        strong: s.strong,\n        strikethrough: s.strikethrough,\n        emoji: s.emoji,\n        header: s.header,\n        setext: s.setext,\n        hr: s.hr,\n        taskList: s.taskList,\n        list: s.list,\n        listStack: s.listStack.slice(0),\n        quote: s.quote,\n        indentedCode: s.indentedCode,\n        trailingSpace: s.trailingSpace,\n        trailingSpaceNewLine: s.trailingSpaceNewLine,\n        md_inside: s.md_inside,\n        fencedEndRE: s.fencedEndRE\n      };\n    },\n\n    token: function(stream, state) {\n\n      // Reset state.formatting\n      state.formatting = false;\n\n      if (stream != state.thisLine.stream) {\n        state.header = 0;\n        state.hr = false;\n\n        if (stream.match(/^\\s*$/, true)) {\n          blankLine(state);\n          return null;\n        }\n\n        state.prevLine = state.thisLine\n        state.thisLine = {stream: stream}\n\n        // Reset state.taskList\n        state.taskList = false;\n\n        // Reset state.trailingSpace\n        state.trailingSpace = 0;\n        state.trailingSpaceNewLine = false;\n\n        if (!state.localState) {\n          state.f = state.block;\n          if (state.f != htmlBlock) {\n            var indentation = stream.match(/^\\s*/, true)[0].replace(/\\t/g, expandedTab).length;\n            state.indentation = indentation;\n            state.indentationDiff = null;\n            if (indentation > 0) return null;\n          }\n        }\n      }\n      return state.f(stream, state);\n    },\n\n    innerMode: function(state) {\n      if (state.block == htmlBlock) return {state: state.htmlState, mode: htmlMode};\n      if (state.localState) return {state: state.localState, mode: state.localMode};\n      return {state: state, mode: mode};\n    },\n\n    indent: function(state, textAfter, line) {\n      if (state.block == htmlBlock && htmlMode.indent) return htmlMode.indent(state.htmlState, textAfter, line)\n      if (state.localState && state.localMode.indent) return state.localMode.indent(state.localState, textAfter, line)\n      return CodeMirror.Pass\n    },\n\n    blankLine: blankLine,\n\n    getType: getType,\n\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n    fold: \"markdown\"\n  };\n  return mode;\n}, \"xml\");\n\nCodeMirror.defineMIME(\"text/markdown\", \"markdown\");\n\nCodeMirror.defineMIME(\"text/x-markdown\", \"markdown\");\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.modeInfo = [\n    {name: \"APL\", mime: \"text/apl\", mode: \"apl\", ext: [\"dyalog\", \"apl\"]},\n    {name: \"PGP\", mimes: [\"application/pgp\", \"application/pgp-encrypted\", \"application/pgp-keys\", \"application/pgp-signature\"], mode: \"asciiarmor\", ext: [\"asc\", \"pgp\", \"sig\"]},\n    {name: \"ASN.1\", mime: \"text/x-ttcn-asn\", mode: \"asn.1\", ext: [\"asn\", \"asn1\"]},\n    {name: \"Asterisk\", mime: \"text/x-asterisk\", mode: \"asterisk\", file: /^extensions\\.conf$/i},\n    {name: \"Brainfuck\", mime: \"text/x-brainfuck\", mode: \"brainfuck\", ext: [\"b\", \"bf\"]},\n    {name: \"C\", mime: \"text/x-csrc\", mode: \"clike\", ext: [\"c\", \"h\", \"ino\"]},\n    {name: \"C++\", mime: \"text/x-c++src\", mode: \"clike\", ext: [\"cpp\", \"c++\", \"cc\", \"cxx\", \"hpp\", \"h++\", \"hh\", \"hxx\"], alias: [\"cpp\"]},\n    {name: \"Cobol\", mime: \"text/x-cobol\", mode: \"cobol\", ext: [\"cob\", \"cpy\", \"cbl\"]},\n    {name: \"C#\", mime: \"text/x-csharp\", mode: \"clike\", ext: [\"cs\"], alias: [\"csharp\", \"cs\"]},\n    {name: \"Clojure\", mime: \"text/x-clojure\", mode: \"clojure\", ext: [\"clj\", \"cljc\", \"cljx\"]},\n    {name: \"ClojureScript\", mime: \"text/x-clojurescript\", mode: \"clojure\", ext: [\"cljs\"]},\n    {name: \"Closure Stylesheets (GSS)\", mime: \"text/x-gss\", mode: \"css\", ext: [\"gss\"]},\n    {name: \"CMake\", mime: \"text/x-cmake\", mode: \"cmake\", ext: [\"cmake\", \"cmake.in\"], file: /^CMakeLists\\.txt$/},\n    {name: \"CoffeeScript\", mimes: [\"application/vnd.coffeescript\", \"text/coffeescript\", \"text/x-coffeescript\"], mode: \"coffeescript\", ext: [\"coffee\"], alias: [\"coffee\", \"coffee-script\"]},\n    {name: \"Common Lisp\", mime: \"text/x-common-lisp\", mode: \"commonlisp\", ext: [\"cl\", \"lisp\", \"el\"], alias: [\"lisp\"]},\n    {name: \"Cypher\", mime: \"application/x-cypher-query\", mode: \"cypher\", ext: [\"cyp\", \"cypher\"]},\n    {name: \"Cython\", mime: \"text/x-cython\", mode: \"python\", ext: [\"pyx\", \"pxd\", \"pxi\"]},\n    {name: \"Crystal\", mime: \"text/x-crystal\", mode: \"crystal\", ext: [\"cr\"]},\n    {name: \"CSS\", mime: \"text/css\", mode: \"css\", ext: [\"css\"]},\n    {name: \"CQL\", mime: \"text/x-cassandra\", mode: \"sql\", ext: [\"cql\"]},\n    {name: \"D\", mime: \"text/x-d\", mode: \"d\", ext: [\"d\"]},\n    {name: \"Dart\", mimes: [\"application/dart\", \"text/x-dart\"], mode: \"dart\", ext: [\"dart\"]},\n    {name: \"diff\", mime: \"text/x-diff\", mode: \"diff\", ext: [\"diff\", \"patch\"]},\n    {name: \"Django\", mime: \"text/x-django\", mode: \"django\"},\n    {name: \"Dockerfile\", mime: \"text/x-dockerfile\", mode: \"dockerfile\", file: /^Dockerfile$/},\n    {name: \"DTD\", mime: \"application/xml-dtd\", mode: \"dtd\", ext: [\"dtd\"]},\n    {name: \"Dylan\", mime: \"text/x-dylan\", mode: \"dylan\", ext: [\"dylan\", \"dyl\", \"intr\"]},\n    {name: \"EBNF\", mime: \"text/x-ebnf\", mode: \"ebnf\"},\n    {name: \"ECL\", mime: \"text/x-ecl\", mode: \"ecl\", ext: [\"ecl\"]},\n    {name: \"edn\", mime: \"application/edn\", mode: \"clojure\", ext: [\"edn\"]},\n    {name: \"Eiffel\", mime: \"text/x-eiffel\", mode: \"eiffel\", ext: [\"e\"]},\n    {name: \"Elm\", mime: \"text/x-elm\", mode: \"elm\", ext: [\"elm\"]},\n    {name: \"Embedded JavaScript\", mime: \"application/x-ejs\", mode: \"htmlembedded\", ext: [\"ejs\"]},\n    {name: \"Embedded Ruby\", mime: \"application/x-erb\", mode: \"htmlembedded\", ext: [\"erb\"]},\n    {name: \"Erlang\", mime: \"text/x-erlang\", mode: \"erlang\", ext: [\"erl\"]},\n    {name: \"Esper\", mime: \"text/x-esper\", mode: \"sql\"},\n    {name: \"Factor\", mime: \"text/x-factor\", mode: \"factor\", ext: [\"factor\"]},\n    {name: \"FCL\", mime: \"text/x-fcl\", mode: \"fcl\"},\n    {name: \"Forth\", mime: \"text/x-forth\", mode: \"forth\", ext: [\"forth\", \"fth\", \"4th\"]},\n    {name: \"Fortran\", mime: \"text/x-fortran\", mode: \"fortran\", ext: [\"f\", \"for\", \"f77\", \"f90\", \"f95\"]},\n    {name: \"F#\", mime: \"text/x-fsharp\", mode: \"mllike\", ext: [\"fs\"], alias: [\"fsharp\"]},\n    {name: \"Gas\", mime: \"text/x-gas\", mode: \"gas\", ext: [\"s\"]},\n    {name: \"Gherkin\", mime: \"text/x-feature\", mode: \"gherkin\", ext: [\"feature\"]},\n    {name: \"GitHub Flavored Markdown\", mime: \"text/x-gfm\", mode: \"gfm\", file: /^(readme|contributing|history)\\.md$/i},\n    {name: \"Go\", mime: \"text/x-go\", mode: \"go\", ext: [\"go\"]},\n    {name: \"Groovy\", mime: \"text/x-groovy\", mode: \"groovy\", ext: [\"groovy\", \"gradle\"], file: /^Jenkinsfile$/},\n    {name: \"HAML\", mime: \"text/x-haml\", mode: \"haml\", ext: [\"haml\"]},\n    {name: \"Haskell\", mime: \"text/x-haskell\", mode: \"haskell\", ext: [\"hs\"]},\n    {name: \"Haskell (Literate)\", mime: \"text/x-literate-haskell\", mode: \"haskell-literate\", ext: [\"lhs\"]},\n    {name: \"Haxe\", mime: \"text/x-haxe\", mode: \"haxe\", ext: [\"hx\"]},\n    {name: \"HXML\", mime: \"text/x-hxml\", mode: \"haxe\", ext: [\"hxml\"]},\n    {name: \"ASP.NET\", mime: \"application/x-aspx\", mode: \"htmlembedded\", ext: [\"aspx\"], alias: [\"asp\", \"aspx\"]},\n    {name: \"HTML\", mime: \"text/html\", mode: \"htmlmixed\", ext: [\"html\", \"htm\", \"handlebars\", \"hbs\"], alias: [\"xhtml\"]},\n    {name: \"HTTP\", mime: \"message/http\", mode: \"http\"},\n    {name: \"IDL\", mime: \"text/x-idl\", mode: \"idl\", ext: [\"pro\"]},\n    {name: \"Pug\", mime: \"text/x-pug\", mode: \"pug\", ext: [\"jade\", \"pug\"], alias: [\"jade\"]},\n    {name: \"Java\", mime: \"text/x-java\", mode: \"clike\", ext: [\"java\"]},\n    {name: \"Java Server Pages\", mime: \"application/x-jsp\", mode: \"htmlembedded\", ext: [\"jsp\"], alias: [\"jsp\"]},\n    {name: \"JavaScript\", mimes: [\"text/javascript\", \"text/ecmascript\", \"application/javascript\", \"application/x-javascript\", \"application/ecmascript\"],\n     mode: \"javascript\", ext: [\"js\"], alias: [\"ecmascript\", \"js\", \"node\"]},\n    {name: \"JSON\", mimes: [\"application/json\", \"application/x-json\"], mode: \"javascript\", ext: [\"json\", \"map\"], alias: [\"json5\"]},\n    {name: \"JSON-LD\", mime: \"application/ld+json\", mode: \"javascript\", ext: [\"jsonld\"], alias: [\"jsonld\"]},\n    {name: \"JSX\", mime: \"text/jsx\", mode: \"jsx\", ext: [\"jsx\"]},\n    {name: \"Jinja2\", mime: \"text/jinja2\", mode: \"jinja2\", ext: [\"j2\", \"jinja\", \"jinja2\"]},\n    {name: \"Julia\", mime: \"text/x-julia\", mode: \"julia\", ext: [\"jl\"], alias: [\"jl\"]},\n    {name: \"Kotlin\", mime: \"text/x-kotlin\", mode: \"clike\", ext: [\"kt\"]},\n    {name: \"LESS\", mime: \"text/x-less\", mode: \"css\", ext: [\"less\"]},\n    {name: \"LiveScript\", mime: \"text/x-livescript\", mode: \"livescript\", ext: [\"ls\"], alias: [\"ls\"]},\n    {name: \"Lua\", mime: \"text/x-lua\", mode: \"lua\", ext: [\"lua\"]},\n    {name: \"Markdown\", mime: \"text/x-markdown\", mode: \"markdown\", ext: [\"markdown\", \"md\", \"mkd\"]},\n    {name: \"mIRC\", mime: \"text/mirc\", mode: \"mirc\"},\n    {name: \"MariaDB SQL\", mime: \"text/x-mariadb\", mode: \"sql\"},\n    {name: \"Mathematica\", mime: \"text/x-mathematica\", mode: \"mathematica\", ext: [\"m\", \"nb\", \"wl\", \"wls\"]},\n    {name: \"Modelica\", mime: \"text/x-modelica\", mode: \"modelica\", ext: [\"mo\"]},\n    {name: \"MUMPS\", mime: \"text/x-mumps\", mode: \"mumps\", ext: [\"mps\"]},\n    {name: \"MS SQL\", mime: \"text/x-mssql\", mode: \"sql\"},\n    {name: \"mbox\", mime: \"application/mbox\", mode: \"mbox\", ext: [\"mbox\"]},\n    {name: \"MySQL\", mime: \"text/x-mysql\", mode: \"sql\"},\n    {name: \"Nginx\", mime: \"text/x-nginx-conf\", mode: \"nginx\", file: /nginx.*\\.conf$/i},\n    {name: \"NSIS\", mime: \"text/x-nsis\", mode: \"nsis\", ext: [\"nsh\", \"nsi\"]},\n    {name: \"NTriples\", mimes: [\"application/n-triples\", \"application/n-quads\", \"text/n-triples\"],\n     mode: \"ntriples\", ext: [\"nt\", \"nq\"]},\n    {name: \"Objective-C\", mime: \"text/x-objectivec\", mode: \"clike\", ext: [\"m\"], alias: [\"objective-c\", \"objc\"]},\n    {name: \"Objective-C++\", mime: \"text/x-objectivec++\", mode: \"clike\", ext: [\"mm\"], alias: [\"objective-c++\", \"objc++\"]},\n    {name: \"OCaml\", mime: \"text/x-ocaml\", mode: \"mllike\", ext: [\"ml\", \"mli\", \"mll\", \"mly\"]},\n    {name: \"Octave\", mime: \"text/x-octave\", mode: \"octave\", ext: [\"m\"]},\n    {name: \"Oz\", mime: \"text/x-oz\", mode: \"oz\", ext: [\"oz\"]},\n    {name: \"Pascal\", mime: \"text/x-pascal\", mode: \"pascal\", ext: [\"p\", \"pas\"]},\n    {name: \"PEG.js\", mime: \"null\", mode: \"pegjs\", ext: [\"jsonld\"]},\n    {name: \"Perl\", mime: \"text/x-perl\", mode: \"perl\", ext: [\"pl\", \"pm\"]},\n    {name: \"PHP\", mimes: [\"text/x-php\", \"application/x-httpd-php\", \"application/x-httpd-php-open\"], mode: \"php\", ext: [\"php\", \"php3\", \"php4\", \"php5\", \"php7\", \"phtml\"]},\n    {name: \"Pig\", mime: \"text/x-pig\", mode: \"pig\", ext: [\"pig\"]},\n    {name: \"Plain Text\", mime: \"text/plain\", mode: \"null\", ext: [\"txt\", \"text\", \"conf\", \"def\", \"list\", \"log\"]},\n    {name: \"PLSQL\", mime: \"text/x-plsql\", mode: \"sql\", ext: [\"pls\"]},\n    {name: \"PostgreSQL\", mime: \"text/x-pgsql\", mode: \"sql\"},\n    {name: \"PowerShell\", mime: \"application/x-powershell\", mode: \"powershell\", ext: [\"ps1\", \"psd1\", \"psm1\"]},\n    {name: \"Properties files\", mime: \"text/x-properties\", mode: \"properties\", ext: [\"properties\", \"ini\", \"in\"], alias: [\"ini\", \"properties\"]},\n    {name: \"ProtoBuf\", mime: \"text/x-protobuf\", mode: \"protobuf\", ext: [\"proto\"]},\n    {name: \"Python\", mime: \"text/x-python\", mode: \"python\", ext: [\"BUILD\", \"bzl\", \"py\", \"pyw\"], file: /^(BUCK|BUILD)$/},\n    {name: \"Puppet\", mime: \"text/x-puppet\", mode: \"puppet\", ext: [\"pp\"]},\n    {name: \"Q\", mime: \"text/x-q\", mode: \"q\", ext: [\"q\"]},\n    {name: \"R\", mime: \"text/x-rsrc\", mode: \"r\", ext: [\"r\", \"R\"], alias: [\"rscript\"]},\n    {name: \"reStructuredText\", mime: \"text/x-rst\", mode: \"rst\", ext: [\"rst\"], alias: [\"rst\"]},\n    {name: \"RPM Changes\", mime: \"text/x-rpm-changes\", mode: \"rpm\"},\n    {name: \"RPM Spec\", mime: \"text/x-rpm-spec\", mode: \"rpm\", ext: [\"spec\"]},\n    {name: \"Ruby\", mime: \"text/x-ruby\", mode: \"ruby\", ext: [\"rb\"], alias: [\"jruby\", \"macruby\", \"rake\", \"rb\", \"rbx\"]},\n    {name: \"Rust\", mime: \"text/x-rustsrc\", mode: \"rust\", ext: [\"rs\"]},\n    {name: \"SAS\", mime: \"text/x-sas\", mode: \"sas\", ext: [\"sas\"]},\n    {name: \"Sass\", mime: \"text/x-sass\", mode: \"sass\", ext: [\"sass\"]},\n    {name: \"Scala\", mime: \"text/x-scala\", mode: \"clike\", ext: [\"scala\"]},\n    {name: \"Scheme\", mime: \"text/x-scheme\", mode: \"scheme\", ext: [\"scm\", \"ss\"]},\n    {name: \"SCSS\", mime: \"text/x-scss\", mode: \"css\", ext: [\"scss\"]},\n    {name: \"Shell\", mimes: [\"text/x-sh\", \"application/x-sh\"], mode: \"shell\", ext: [\"sh\", \"ksh\", \"bash\"], alias: [\"bash\", \"sh\", \"zsh\"], file: /^PKGBUILD$/},\n    {name: \"Sieve\", mime: \"application/sieve\", mode: \"sieve\", ext: [\"siv\", \"sieve\"]},\n    {name: \"Slim\", mimes: [\"text/x-slim\", \"application/x-slim\"], mode: \"slim\", ext: [\"slim\"]},\n    {name: \"Smalltalk\", mime: \"text/x-stsrc\", mode: \"smalltalk\", ext: [\"st\"]},\n    {name: \"Smarty\", mime: \"text/x-smarty\", mode: \"smarty\", ext: [\"tpl\"]},\n    {name: \"Solr\", mime: \"text/x-solr\", mode: \"solr\"},\n    {name: \"SML\", mime: \"text/x-sml\", mode: \"mllike\", ext: [\"sml\", \"sig\", \"fun\", \"smackspec\"]},\n    {name: \"Soy\", mime: \"text/x-soy\", mode: \"soy\", ext: [\"soy\"], alias: [\"closure template\"]},\n    {name: \"SPARQL\", mime: \"application/sparql-query\", mode: \"sparql\", ext: [\"rq\", \"sparql\"], alias: [\"sparul\"]},\n    {name: \"Spreadsheet\", mime: \"text/x-spreadsheet\", mode: \"spreadsheet\", alias: [\"excel\", \"formula\"]},\n    {name: \"SQL\", mime: \"text/x-sql\", mode: \"sql\", ext: [\"sql\"]},\n    {name: \"SQLite\", mime: \"text/x-sqlite\", mode: \"sql\"},\n    {name: \"Squirrel\", mime: \"text/x-squirrel\", mode: \"clike\", ext: [\"nut\"]},\n    {name: \"Stylus\", mime: \"text/x-styl\", mode: \"stylus\", ext: [\"styl\"]},\n    {name: \"Swift\", mime: \"text/x-swift\", mode: \"swift\", ext: [\"swift\"]},\n    {name: \"sTeX\", mime: \"text/x-stex\", mode: \"stex\"},\n    {name: \"LaTeX\", mime: \"text/x-latex\", mode: \"stex\", ext: [\"text\", \"ltx\", \"tex\"], alias: [\"tex\"]},\n    {name: \"SystemVerilog\", mime: \"text/x-systemverilog\", mode: \"verilog\", ext: [\"v\", \"sv\", \"svh\"]},\n    {name: \"Tcl\", mime: \"text/x-tcl\", mode: \"tcl\", ext: [\"tcl\"]},\n    {name: \"Textile\", mime: \"text/x-textile\", mode: \"textile\", ext: [\"textile\"]},\n    {name: \"TiddlyWiki\", mime: \"text/x-tiddlywiki\", mode: \"tiddlywiki\"},\n    {name: \"Tiki wiki\", mime: \"text/tiki\", mode: \"tiki\"},\n    {name: \"TOML\", mime: \"text/x-toml\", mode: \"toml\", ext: [\"toml\"]},\n    {name: \"Tornado\", mime: \"text/x-tornado\", mode: \"tornado\"},\n    {name: \"troff\", mime: \"text/troff\", mode: \"troff\", ext: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]},\n    {name: \"TTCN\", mime: \"text/x-ttcn\", mode: \"ttcn\", ext: [\"ttcn\", \"ttcn3\", \"ttcnpp\"]},\n    {name: \"TTCN_CFG\", mime: \"text/x-ttcn-cfg\", mode: \"ttcn-cfg\", ext: [\"cfg\"]},\n    {name: \"Turtle\", mime: \"text/turtle\", mode: \"turtle\", ext: [\"ttl\"]},\n    {name: \"TypeScript\", mime: \"application/typescript\", mode: \"javascript\", ext: [\"ts\"], alias: [\"ts\"]},\n    {name: \"TypeScript-JSX\", mime: \"text/typescript-jsx\", mode: \"jsx\", ext: [\"tsx\"], alias: [\"tsx\"]},\n    {name: \"Twig\", mime: \"text/x-twig\", mode: \"twig\"},\n    {name: \"Web IDL\", mime: \"text/x-webidl\", mode: \"webidl\", ext: [\"webidl\"]},\n    {name: \"VB.NET\", mime: \"text/x-vb\", mode: \"vb\", ext: [\"vb\"]},\n    {name: \"VBScript\", mime: \"text/vbscript\", mode: \"vbscript\", ext: [\"vbs\"]},\n    {name: \"Velocity\", mime: \"text/velocity\", mode: \"velocity\", ext: [\"vtl\"]},\n    {name: \"Verilog\", mime: \"text/x-verilog\", mode: \"verilog\", ext: [\"v\"]},\n    {name: \"VHDL\", mime: \"text/x-vhdl\", mode: \"vhdl\", ext: [\"vhd\", \"vhdl\"]},\n    {name: \"Vue.js Component\", mimes: [\"script/x-vue\", \"text/x-vue\"], mode: \"vue\", ext: [\"vue\"]},\n    {name: \"XML\", mimes: [\"application/xml\", \"text/xml\"], mode: \"xml\", ext: [\"xml\", \"xsl\", \"xsd\", \"svg\"], alias: [\"rss\", \"wsdl\", \"xsd\"]},\n    {name: \"XQuery\", mime: \"application/xquery\", mode: \"xquery\", ext: [\"xy\", \"xquery\"]},\n    {name: \"Yacas\", mime: \"text/x-yacas\", mode: \"yacas\", ext: [\"ys\"]},\n    {name: \"YAML\", mimes: [\"text/x-yaml\", \"text/yaml\"], mode: \"yaml\", ext: [\"yaml\", \"yml\"], alias: [\"yml\"]},\n    {name: \"Z80\", mime: \"text/x-z80\", mode: \"z80\", ext: [\"z80\"]},\n    {name: \"mscgen\", mime: \"text/x-mscgen\", mode: \"mscgen\", ext: [\"mscgen\", \"mscin\", \"msc\"]},\n    {name: \"xu\", mime: \"text/x-xu\", mode: \"mscgen\", ext: [\"xu\"]},\n    {name: \"msgenny\", mime: \"text/x-msgenny\", mode: \"mscgen\", ext: [\"msgenny\"]},\n    {name: \"WebAssembly\", mime: \"text/webassembly\", mode: \"wast\", ext: [\"wat\", \"wast\"]},\n  ];\n  // Ensure all modes have a mime property for backwards compatibility\n  for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n    var info = CodeMirror.modeInfo[i];\n    if (info.mimes) info.mime = info.mimes[0];\n  }\n\n  CodeMirror.findModeByMIME = function(mime) {\n    mime = mime.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.mime == mime) return info;\n      if (info.mimes) for (var j = 0; j < info.mimes.length; j++)\n        if (info.mimes[j] == mime) return info;\n    }\n    if (/\\+xml$/.test(mime)) return CodeMirror.findModeByMIME(\"application/xml\")\n    if (/\\+json$/.test(mime)) return CodeMirror.findModeByMIME(\"application/json\")\n  };\n\n  CodeMirror.findModeByExtension = function(ext) {\n    ext = ext.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.ext) for (var j = 0; j < info.ext.length; j++)\n        if (info.ext[j] == ext) return info;\n    }\n  };\n\n  CodeMirror.findModeByFileName = function(filename) {\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.file && info.file.test(filename)) return info;\n    }\n    var dot = filename.lastIndexOf(\".\");\n    var ext = dot > -1 && filename.substring(dot + 1, filename.length);\n    if (ext) return CodeMirror.findModeByExtension(ext);\n  };\n\n  CodeMirror.findModeByName = function(name) {\n    name = name.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.name.toLowerCase() == name) return info;\n      if (info.alias) for (var j = 0; j < info.alias.length; j++)\n        if (info.alias[j].toLowerCase() == name) return info;\n    }\n  };\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function lower(tagName) {\n    return tagName && tagName.toLowerCase();\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName || \"\";\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(lower(parentTagName)) ||\n          !config.contextGrabbers[lower(parentTagName)].hasOwnProperty(lower(nextTagName))) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(lower(state.context.tagName)))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(lower(tagName))) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(lower(context.tagName))) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[lower(context.tagName)];\n          if (grabbers && grabbers.hasOwnProperty(lower(tagAfter[2])))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    },\n\n    xmlCurrentTag: function(state) {\n      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n    },\n\n    xmlCurrentContext: function(state) {\n      var context = []\n      for (var cx = state.context; cx; cx = cx.prev)\n        context.push(cx.tagName)\n      return context.reverse()\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n","\nmodule.exports = {\n\n    _patterns: [\n\n        {\n            name: 'blockquote',\n            regex: /<blockquote.*?>([\\s\\S]*?)<\\/blockquote>/im,\n            callback: function (matches) {\n                return '> ' + this.trim(matches[1]);\n            }\n        },\n\n        {\n\n            name: 'pre-code',\n            regex: /<pre.*?>.*?<code.*?>([\\s\\S]*?)<\\/code>.*?<\\/pre>/im,\n            callback: function (matches) {\n                return '```\\n' + this.escape(matches[1]) + '\\n```';\n                //return '\\n```\\n$1\\n```\\n';\n            }\n        },\n\n        {\n            name: 'code',\n            regex: /<code.*?>([\\s\\S]*?)<\\/code>/im,\n            callback: function (matches) {\n                return '```' + this.escape(matches[1]) + '```';\n            }\n        },\n\n        {\n            name: 'pre',\n            regex: /<pre.*?>([\\s\\S]*?)<\\/pre>/im,\n            callback: function (matches) {\n                return '\\n```\\n' + this.escape(matches[1]) + '\\n```\\n';\n            }\n        },\n\n        {\n            name: 'heading',\n            regex: /<h(\\d*).*?>(.*?)<\\/h\\d*>/im,\n            callback: function (matches) {\n                var count = parseInt(matches[1]);\n                var string = '';\n                for (var x = 0; x < count; x++) {\n                    string += '#'\n                }\n                return string + ' ' + this.trim(matches[2]) + '\\n';\n            }\n        },\n        {\n            name: 'p',\n            //regex: /<p>([\\s\\S]*?)<\\/p>/gim,\n            regex: /<p.*?>(.*?)<\\/p>/gmi,\n            callback: function () {\n                return '\\n$1\\n';\n            }\n\n        },\n\n\n        {\n            name: 'ul',\n            regex: /<ul.*?>([\\s\\S]*?)<\\/ul>/im,\n            callback: function (matches) {\n                var html = matches[1];\n                var regex = /<li>([\\s\\S]*?)<\\/li>/i;\n                var m = [];\n                while (m = regex.exec(html)) {\n                    if (m) {\n                        html = this.trim(html.replace(regex, '* $1{x}'));\n                    }\n                }\n                return html.replace(/{x}/g, '\\n');;\n\n            }\n        },\n        {\n            name: 'ol',\n            regex: /<ol.*?>([\\s\\S]*?)<\\/ol>/im,\n            callback: function (matches) {\n                var html = matches[1];\n                var regex = /<li>([\\s\\S]*?)<\\/li>/i;\n                var m = [];\n                while (m = regex.exec(html)) {\n                    if (m) {\n                        html = this.trim(html.replace(regex, '1. $1{x}'));\n                    }\n                }\n                return html.replace(/{x}/g, '\\n');\n            }\n        },\n\n\n        {\n            name: 'bold',\n            regex: /<(?:b|strong)>([\\s\\S]*?)<\\/\\w*>/gim,\n            callback: function () {\n                return '**$1**';\n            }\n        },\n\n        {\n            name: 'italic',\n            regex: /<(?:i|em)>([\\s\\S]*?)<\\/\\w*>/gim,\n            callback: function () {\n                return '*$1*';\n            }\n        },\n        {\n            name: 'del',\n            regex: /<del.*?>([\\s\\S]*?)<\\/\\w*>/gim,\n            callback: function () {\n                return '~~$1~~';\n            }\n        },\n\n        {\n            name: 'br',\n            regex: /<br.*?>/gim,\n            callback: function () {\n                return '\\n';\n            }\n        },\n        {\n            name: 'hr',\n            regex: /<hr.*?>/gim,\n            callback: function () {\n                return '\\n* * *\\n';\n            }\n        },\n\n        {\n            name: 'div',\n            regex: /<div.*?>(.*?)<\\/div>/gim,\n            callback: function () {\n                return '$1\\n';\n            }\n        },\n        {\n            name: 'a',\n            regex: /<a.*? href=\"([^\"]+)\".*?>([^<]+)<\\/a>/gim,\n            callback: function () {\n                return '[$2]($1 \"$2\")';\n            }\n\n        },\n        {\n            name: 'image',\n            regex: /<img.*?src\\s*=\\s*['\\\"]([^'\\\"]*?)['\\\"][^>]*?>/gim,\n            callback: function () {\n                return '![]($1)';\n            }\n        },\n\n        {\n            name: 'style',\n            regex: /<style\\b[^<]*(?:(?!<\\/style>)<[^<]*)*<\\/style>/gim,\n            callback: function () {\n                return '';\n            }\n        },\n\n        {\n            name: 'script',\n            regex: /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gim,\n            callback: function () {\n                return '';\n            }\n        },\n\n        {\n            name: 'html',\n            regex: /<(?:.)*?>/gm,\n            callback: function () {\n                return '';\n            }\n        },\n\n\n    ],\n\n    escape: function (html) {\n        return html\n            .replace(/</g, \"&lt;\")\n            .replace(/>/g, \"&gt;\");\n        // .replace(/\"/g, \"&quot;\")\n        // .replace(/'/g, \"&#039;\");\n    },\n\n    decode: function (str) {\n\n\n\n        return str.replace(/&nbsp;/g, ' ')\n            .replace(/&amp;/g, '&')\n            .replace(/&gt;/g, '>')\n            .replace(/&lt;/g, '<')\n            .replace(/&quot;/g, '\"')\n            .replace(/&#(\\d+);/g, function (match, dec) {\n                return String.fromCharCode(dec);\n            });\n\n    },\n    trim: function (str) {\n        return str.replace(/(?:(?:^|\\n)\\s+|\\s+(?:$|\\n))/g, '').replace(/\\s+/g, ' ');\n    },\n    parse: function (html, regexs) {\n        var _t = this;\n        if (html && html.length > 0) {\n\n            if (regexs) {\n                regexs = Array.isArray(regexs) ? regexs : [regexs];\n                this._patterns.concat(regexs);\n            }\n            this._patterns.forEach(function (p) {\n                var matches = [];\n                while (matches = p.regex.exec(html)) {\n                    // console.log(matches);\n                    if (matches) {\n                        var txt = '$1';\n                        if (p.callback && typeof (p.callback) === 'function') {\n                            txt = p.callback.call(_t, matches);\n                        }\n\n                        html = html.replace(p.regex, txt);\n                    }\n                }\n            });\n        }\n        return this.decode(html);\n    }\n}","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2021, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.marked = factory());\n}(this, (function () { 'use strict';\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelperLoose(o, allowArrayLike) {\n    var it;\n\n    if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n      if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n        if (it) o = it;\n        var i = 0;\n        return function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        };\n      }\n\n      throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n\n    it = o[Symbol.iterator]();\n    return it.next.bind(it);\n  }\n\n  function createCommonjsModule(fn) {\n    var module = { exports: {} };\n  \treturn fn(module, module.exports), module.exports;\n  }\n\n  var defaults = createCommonjsModule(function (module) {\n    function getDefaults() {\n      return {\n        baseUrl: null,\n        breaks: false,\n        gfm: true,\n        headerIds: true,\n        headerPrefix: '',\n        highlight: null,\n        langPrefix: 'language-',\n        mangle: true,\n        pedantic: false,\n        renderer: null,\n        sanitize: false,\n        sanitizer: null,\n        silent: false,\n        smartLists: false,\n        smartypants: false,\n        tokenizer: null,\n        walkTokens: null,\n        xhtml: false\n      };\n    }\n\n    function changeDefaults(newDefaults) {\n      module.exports.defaults = newDefaults;\n    }\n\n    module.exports = {\n      defaults: getDefaults(),\n      getDefaults: getDefaults,\n      changeDefaults: changeDefaults\n    };\n  });\n\n  /**\n   * Helpers\n   */\n  var escapeTest = /[&<>\"']/;\n  var escapeReplace = /[&<>\"']/g;\n  var escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\n  var escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n  var escapeReplacements = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  var getEscapeReplacement = function getEscapeReplacement(ch) {\n    return escapeReplacements[ch];\n  };\n\n  function escape(html, encode) {\n    if (encode) {\n      if (escapeTest.test(html)) {\n        return html.replace(escapeReplace, getEscapeReplacement);\n      }\n    } else {\n      if (escapeTestNoEncode.test(html)) {\n        return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n      }\n    }\n\n    return html;\n  }\n\n  var unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\n  function unescape(html) {\n    // explicitly match decimal, hex, and named HTML entities\n    return html.replace(unescapeTest, function (_, n) {\n      n = n.toLowerCase();\n      if (n === 'colon') return ':';\n\n      if (n.charAt(0) === '#') {\n        return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));\n      }\n\n      return '';\n    });\n  }\n\n  var caret = /(^|[^\\[])\\^/g;\n\n  function edit(regex, opt) {\n    regex = regex.source || regex;\n    opt = opt || '';\n    var obj = {\n      replace: function replace(name, val) {\n        val = val.source || val;\n        val = val.replace(caret, '$1');\n        regex = regex.replace(name, val);\n        return obj;\n      },\n      getRegex: function getRegex() {\n        return new RegExp(regex, opt);\n      }\n    };\n    return obj;\n  }\n\n  var nonWordAndColonTest = /[^\\w:]/g;\n  var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\n  function cleanUrl(sanitize, base, href) {\n    if (sanitize) {\n      var prot;\n\n      try {\n        prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();\n      } catch (e) {\n        return null;\n      }\n\n      if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n        return null;\n      }\n    }\n\n    if (base && !originIndependentUrl.test(href)) {\n      href = resolveUrl(base, href);\n    }\n\n    try {\n      href = encodeURI(href).replace(/%25/g, '%');\n    } catch (e) {\n      return null;\n    }\n\n    return href;\n  }\n\n  var baseUrls = {};\n  var justDomain = /^[^:]+:\\/*[^/]*$/;\n  var protocol = /^([^:]+:)[\\s\\S]*$/;\n  var domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\n  function resolveUrl(base, href) {\n    if (!baseUrls[' ' + base]) {\n      // we can ignore everything in base after the last slash of its path component,\n      // but we might need to add _that_\n      // https://tools.ietf.org/html/rfc3986#section-3\n      if (justDomain.test(base)) {\n        baseUrls[' ' + base] = base + '/';\n      } else {\n        baseUrls[' ' + base] = rtrim(base, '/', true);\n      }\n    }\n\n    base = baseUrls[' ' + base];\n    var relativeBase = base.indexOf(':') === -1;\n\n    if (href.substring(0, 2) === '//') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(protocol, '$1') + href;\n    } else if (href.charAt(0) === '/') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(domain, '$1') + href;\n    } else {\n      return base + href;\n    }\n  }\n\n  var noopTest = {\n    exec: function noopTest() {}\n  };\n\n  function merge(obj) {\n    var i = 1,\n        target,\n        key;\n\n    for (; i < arguments.length; i++) {\n      target = arguments[i];\n\n      for (key in target) {\n        if (Object.prototype.hasOwnProperty.call(target, key)) {\n          obj[key] = target[key];\n        }\n      }\n    }\n\n    return obj;\n  }\n\n  function splitCells(tableRow, count) {\n    // ensure that every cell-delimiting pipe has a space\n    // before it to distinguish it from an escaped pipe\n    var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n      var escaped = false,\n          curr = offset;\n\n      while (--curr >= 0 && str[curr] === '\\\\') {\n        escaped = !escaped;\n      }\n\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n        cells = row.split(/ \\|/);\n    var i = 0;\n\n    if (cells.length > count) {\n      cells.splice(count);\n    } else {\n      while (cells.length < count) {\n        cells.push('');\n      }\n    }\n\n    for (; i < cells.length; i++) {\n      // leading or trailing whitespace is ignored per the gfm spec\n      cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n    }\n\n    return cells;\n  } // Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n  // /c*$/ is vulnerable to REDOS.\n  // invert: Remove suffix of non-c chars instead. Default falsey.\n\n\n  function rtrim(str, c, invert) {\n    var l = str.length;\n\n    if (l === 0) {\n      return '';\n    } // Length of suffix matching the invert condition.\n\n\n    var suffLen = 0; // Step left until we fail to match the invert condition.\n\n    while (suffLen < l) {\n      var currChar = str.charAt(l - suffLen - 1);\n\n      if (currChar === c && !invert) {\n        suffLen++;\n      } else if (currChar !== c && invert) {\n        suffLen++;\n      } else {\n        break;\n      }\n    }\n\n    return str.substr(0, l - suffLen);\n  }\n\n  function findClosingBracket(str, b) {\n    if (str.indexOf(b[1]) === -1) {\n      return -1;\n    }\n\n    var l = str.length;\n    var level = 0,\n        i = 0;\n\n    for (; i < l; i++) {\n      if (str[i] === '\\\\') {\n        i++;\n      } else if (str[i] === b[0]) {\n        level++;\n      } else if (str[i] === b[1]) {\n        level--;\n\n        if (level < 0) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  }\n\n  function checkSanitizeDeprecation(opt) {\n    if (opt && opt.sanitize && !opt.silent) {\n      console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n    }\n  } // copied from https://stackoverflow.com/a/5450113/806777\n\n\n  function repeatString(pattern, count) {\n    if (count < 1) {\n      return '';\n    }\n\n    var result = '';\n\n    while (count > 1) {\n      if (count & 1) {\n        result += pattern;\n      }\n\n      count >>= 1;\n      pattern += pattern;\n    }\n\n    return result + pattern;\n  }\n\n  var helpers = {\n    escape: escape,\n    unescape: unescape,\n    edit: edit,\n    cleanUrl: cleanUrl,\n    resolveUrl: resolveUrl,\n    noopTest: noopTest,\n    merge: merge,\n    splitCells: splitCells,\n    rtrim: rtrim,\n    findClosingBracket: findClosingBracket,\n    checkSanitizeDeprecation: checkSanitizeDeprecation,\n    repeatString: repeatString\n  };\n\n  var defaults$1 = defaults.defaults;\n  var rtrim$1 = helpers.rtrim,\n      splitCells$1 = helpers.splitCells,\n      _escape = helpers.escape,\n      findClosingBracket$1 = helpers.findClosingBracket;\n\n  function outputLink(cap, link, raw) {\n    var href = link.href;\n    var title = link.title ? _escape(link.title) : null;\n    var text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n\n    if (cap[0].charAt(0) !== '!') {\n      return {\n        type: 'link',\n        raw: raw,\n        href: href,\n        title: title,\n        text: text\n      };\n    } else {\n      return {\n        type: 'image',\n        raw: raw,\n        href: href,\n        title: title,\n        text: _escape(text)\n      };\n    }\n  }\n\n  function indentCodeCompensation(raw, text) {\n    var matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n    if (matchIndentToCode === null) {\n      return text;\n    }\n\n    var indentToCode = matchIndentToCode[1];\n    return text.split('\\n').map(function (node) {\n      var matchIndentInNode = node.match(/^\\s+/);\n\n      if (matchIndentInNode === null) {\n        return node;\n      }\n\n      var indentInNode = matchIndentInNode[0];\n\n      if (indentInNode.length >= indentToCode.length) {\n        return node.slice(indentToCode.length);\n      }\n\n      return node;\n    }).join('\\n');\n  }\n  /**\n   * Tokenizer\n   */\n\n\n  var Tokenizer_1 = /*#__PURE__*/function () {\n    function Tokenizer(options) {\n      this.options = options || defaults$1;\n    }\n\n    var _proto = Tokenizer.prototype;\n\n    _proto.space = function space(src) {\n      var cap = this.rules.block.newline.exec(src);\n\n      if (cap) {\n        if (cap[0].length > 1) {\n          return {\n            type: 'space',\n            raw: cap[0]\n          };\n        }\n\n        return {\n          raw: '\\n'\n        };\n      }\n    };\n\n    _proto.code = function code(src, tokens) {\n      var cap = this.rules.block.code.exec(src);\n\n      if (cap) {\n        var lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.\n\n        if (lastToken && lastToken.type === 'paragraph') {\n          return {\n            raw: cap[0],\n            text: cap[0].trimRight()\n          };\n        }\n\n        var text = cap[0].replace(/^ {1,4}/gm, '');\n        return {\n          type: 'code',\n          raw: cap[0],\n          codeBlockStyle: 'indented',\n          text: !this.options.pedantic ? rtrim$1(text, '\\n') : text\n        };\n      }\n    };\n\n    _proto.fences = function fences(src) {\n      var cap = this.rules.block.fences.exec(src);\n\n      if (cap) {\n        var raw = cap[0];\n        var text = indentCodeCompensation(raw, cap[3] || '');\n        return {\n          type: 'code',\n          raw: raw,\n          lang: cap[2] ? cap[2].trim() : cap[2],\n          text: text\n        };\n      }\n    };\n\n    _proto.heading = function heading(src) {\n      var cap = this.rules.block.heading.exec(src);\n\n      if (cap) {\n        var text = cap[2].trim(); // remove trailing #s\n\n        if (/#$/.test(text)) {\n          var trimmed = rtrim$1(text, '#');\n\n          if (this.options.pedantic) {\n            text = trimmed.trim();\n          } else if (!trimmed || / $/.test(trimmed)) {\n            // CommonMark requires space before trailing #s\n            text = trimmed.trim();\n          }\n        }\n\n        return {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[1].length,\n          text: text\n        };\n      }\n    };\n\n    _proto.nptable = function nptable(src) {\n      var cap = this.rules.block.nptable.exec(src);\n\n      if (cap) {\n        var item = {\n          type: 'table',\n          header: splitCells$1(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : [],\n          raw: cap[0]\n        };\n\n        if (item.header.length === item.align.length) {\n          var l = item.align.length;\n          var i;\n\n          for (i = 0; i < l; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          l = item.cells.length;\n\n          for (i = 0; i < l; i++) {\n            item.cells[i] = splitCells$1(item.cells[i], item.header.length);\n          }\n\n          return item;\n        }\n      }\n    };\n\n    _proto.hr = function hr(src) {\n      var cap = this.rules.block.hr.exec(src);\n\n      if (cap) {\n        return {\n          type: 'hr',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.blockquote = function blockquote(src) {\n      var cap = this.rules.block.blockquote.exec(src);\n\n      if (cap) {\n        var text = cap[0].replace(/^ *> ?/gm, '');\n        return {\n          type: 'blockquote',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    _proto.list = function list(src) {\n      var cap = this.rules.block.list.exec(src);\n\n      if (cap) {\n        var raw = cap[0];\n        var bull = cap[2];\n        var isordered = bull.length > 1;\n        var list = {\n          type: 'list',\n          raw: raw,\n          ordered: isordered,\n          start: isordered ? +bull.slice(0, -1) : '',\n          loose: false,\n          items: []\n        }; // Get each top-level item.\n\n        var itemMatch = cap[0].match(this.rules.block.item);\n        var next = false,\n            item,\n            space,\n            bcurr,\n            bnext,\n            addBack,\n            loose,\n            istask,\n            ischecked;\n        var l = itemMatch.length;\n        bcurr = this.rules.block.listItemStart.exec(itemMatch[0]);\n\n        for (var i = 0; i < l; i++) {\n          item = itemMatch[i];\n          raw = item; // Determine whether the next list item belongs here.\n          // Backpedal if it does not belong in this list.\n\n          if (i !== l - 1) {\n            bnext = this.rules.block.listItemStart.exec(itemMatch[i + 1]);\n\n            if (!this.options.pedantic ? bnext[1].length > bcurr[0].length || bnext[1].length > 3 : bnext[1].length > bcurr[1].length) {\n              // nested list\n              itemMatch.splice(i, 2, itemMatch[i] + '\\n' + itemMatch[i + 1]);\n              i--;\n              l--;\n              continue;\n            } else {\n              if ( // different bullet style\n              !this.options.pedantic || this.options.smartLists ? bnext[2][bnext[2].length - 1] !== bull[bull.length - 1] : isordered === (bnext[2].length === 1)) {\n                addBack = itemMatch.slice(i + 1).join('\\n');\n                list.raw = list.raw.substring(0, list.raw.length - addBack.length);\n                i = l - 1;\n              }\n            }\n\n            bcurr = bnext;\n          } // Remove the list item's bullet\n          // so it is seen as the next token.\n\n\n          space = item.length;\n          item = item.replace(/^ *([*+-]|\\d+[.)]) ?/, ''); // Outdent whatever the\n          // list item contains. Hacky.\n\n          if (~item.indexOf('\\n ')) {\n            space -= item.length;\n            item = !this.options.pedantic ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '') : item.replace(/^ {1,4}/gm, '');\n          } // Determine whether item is loose or not.\n          // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n          // for discount behavior.\n\n\n          loose = next || /\\n\\n(?!\\s*$)/.test(item);\n\n          if (i !== l - 1) {\n            next = item.charAt(item.length - 1) === '\\n';\n            if (!loose) loose = next;\n          }\n\n          if (loose) {\n            list.loose = true;\n          } // Check for task list items\n\n\n          if (this.options.gfm) {\n            istask = /^\\[[ xX]\\] /.test(item);\n            ischecked = undefined;\n\n            if (istask) {\n              ischecked = item[1] !== ' ';\n              item = item.replace(/^\\[[ xX]\\] +/, '');\n            }\n          }\n\n          list.items.push({\n            type: 'list_item',\n            raw: raw,\n            task: istask,\n            checked: ischecked,\n            loose: loose,\n            text: item\n          });\n        }\n\n        return list;\n      }\n    };\n\n    _proto.html = function html(src) {\n      var cap = this.rules.block.html.exec(src);\n\n      if (cap) {\n        return {\n          type: this.options.sanitize ? 'paragraph' : 'html',\n          raw: cap[0],\n          pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]\n        };\n      }\n    };\n\n    _proto.def = function def(src) {\n      var cap = this.rules.block.def.exec(src);\n\n      if (cap) {\n        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n        var tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n        return {\n          tag: tag,\n          raw: cap[0],\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n    };\n\n    _proto.table = function table(src) {\n      var cap = this.rules.block.table.exec(src);\n\n      if (cap) {\n        var item = {\n          type: 'table',\n          header: splitCells$1(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n        };\n\n        if (item.header.length === item.align.length) {\n          item.raw = cap[0];\n          var l = item.align.length;\n          var i;\n\n          for (i = 0; i < l; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          l = item.cells.length;\n\n          for (i = 0; i < l; i++) {\n            item.cells[i] = splitCells$1(item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''), item.header.length);\n          }\n\n          return item;\n        }\n      }\n    };\n\n    _proto.lheading = function lheading(src) {\n      var cap = this.rules.block.lheading.exec(src);\n\n      if (cap) {\n        return {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[2].charAt(0) === '=' ? 1 : 2,\n          text: cap[1]\n        };\n      }\n    };\n\n    _proto.paragraph = function paragraph(src) {\n      var cap = this.rules.block.paragraph.exec(src);\n\n      if (cap) {\n        return {\n          type: 'paragraph',\n          raw: cap[0],\n          text: cap[1].charAt(cap[1].length - 1) === '\\n' ? cap[1].slice(0, -1) : cap[1]\n        };\n      }\n    };\n\n    _proto.text = function text(src, tokens) {\n      var cap = this.rules.block.text.exec(src);\n\n      if (cap) {\n        var lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && lastToken.type === 'text') {\n          return {\n            raw: cap[0],\n            text: cap[0]\n          };\n        }\n\n        return {\n          type: 'text',\n          raw: cap[0],\n          text: cap[0]\n        };\n      }\n    };\n\n    _proto.escape = function escape(src) {\n      var cap = this.rules.inline.escape.exec(src);\n\n      if (cap) {\n        return {\n          type: 'escape',\n          raw: cap[0],\n          text: _escape(cap[1])\n        };\n      }\n    };\n\n    _proto.tag = function tag(src, inLink, inRawBlock) {\n      var cap = this.rules.inline.tag.exec(src);\n\n      if (cap) {\n        if (!inLink && /^<a /i.test(cap[0])) {\n          inLink = true;\n        } else if (inLink && /^<\\/a>/i.test(cap[0])) {\n          inLink = false;\n        }\n\n        if (!inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          inRawBlock = true;\n        } else if (inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          inRawBlock = false;\n        }\n\n        return {\n          type: this.options.sanitize ? 'text' : 'html',\n          raw: cap[0],\n          inLink: inLink,\n          inRawBlock: inRawBlock,\n          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]\n        };\n      }\n    };\n\n    _proto.link = function link(src) {\n      var cap = this.rules.inline.link.exec(src);\n\n      if (cap) {\n        var trimmedUrl = cap[2].trim();\n\n        if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n          // commonmark requires matching angle brackets\n          if (!/>$/.test(trimmedUrl)) {\n            return;\n          } // ending angle bracket cannot be escaped\n\n\n          var rtrimSlash = rtrim$1(trimmedUrl.slice(0, -1), '\\\\');\n\n          if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n            return;\n          }\n        } else {\n          // find closing parenthesis\n          var lastParenIndex = findClosingBracket$1(cap[2], '()');\n\n          if (lastParenIndex > -1) {\n            var start = cap[0].indexOf('!') === 0 ? 5 : 4;\n            var linkLen = start + cap[1].length + lastParenIndex;\n            cap[2] = cap[2].substring(0, lastParenIndex);\n            cap[0] = cap[0].substring(0, linkLen).trim();\n            cap[3] = '';\n          }\n        }\n\n        var href = cap[2];\n        var title = '';\n\n        if (this.options.pedantic) {\n          // split pedantic href and title\n          var link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n          if (link) {\n            href = link[1];\n            title = link[3];\n          }\n        } else {\n          title = cap[3] ? cap[3].slice(1, -1) : '';\n        }\n\n        href = href.trim();\n\n        if (/^</.test(href)) {\n          if (this.options.pedantic && !/>$/.test(trimmedUrl)) {\n            // pedantic allows starting angle bracket without ending angle bracket\n            href = href.slice(1);\n          } else {\n            href = href.slice(1, -1);\n          }\n        }\n\n        return outputLink(cap, {\n          href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n          title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n        }, cap[0]);\n      }\n    };\n\n    _proto.reflink = function reflink(src, links) {\n      var cap;\n\n      if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {\n        var link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n        link = links[link.toLowerCase()];\n\n        if (!link || !link.href) {\n          var text = cap[0].charAt(0);\n          return {\n            type: 'text',\n            raw: text,\n            text: text\n          };\n        }\n\n        return outputLink(cap, link, cap[0]);\n      }\n    };\n\n    _proto.strong = function strong(src, maskedSrc, prevChar) {\n      if (prevChar === void 0) {\n        prevChar = '';\n      }\n\n      var match = this.rules.inline.strong.start.exec(src);\n\n      if (match && (!match[1] || match[1] && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {\n        maskedSrc = maskedSrc.slice(-1 * src.length);\n        var endReg = match[0] === '**' ? this.rules.inline.strong.endAst : this.rules.inline.strong.endUnd;\n        endReg.lastIndex = 0;\n        var cap;\n\n        while ((match = endReg.exec(maskedSrc)) != null) {\n          cap = this.rules.inline.strong.middle.exec(maskedSrc.slice(0, match.index + 3));\n\n          if (cap) {\n            return {\n              type: 'strong',\n              raw: src.slice(0, cap[0].length),\n              text: src.slice(2, cap[0].length - 2)\n            };\n          }\n        }\n      }\n    };\n\n    _proto.em = function em(src, maskedSrc, prevChar) {\n      if (prevChar === void 0) {\n        prevChar = '';\n      }\n\n      var match = this.rules.inline.em.start.exec(src);\n\n      if (match && (!match[1] || match[1] && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {\n        maskedSrc = maskedSrc.slice(-1 * src.length);\n        var endReg = match[0] === '*' ? this.rules.inline.em.endAst : this.rules.inline.em.endUnd;\n        endReg.lastIndex = 0;\n        var cap;\n\n        while ((match = endReg.exec(maskedSrc)) != null) {\n          cap = this.rules.inline.em.middle.exec(maskedSrc.slice(0, match.index + 2));\n\n          if (cap) {\n            return {\n              type: 'em',\n              raw: src.slice(0, cap[0].length),\n              text: src.slice(1, cap[0].length - 1)\n            };\n          }\n        }\n      }\n    };\n\n    _proto.codespan = function codespan(src) {\n      var cap = this.rules.inline.code.exec(src);\n\n      if (cap) {\n        var text = cap[2].replace(/\\n/g, ' ');\n        var hasNonSpaceChars = /[^ ]/.test(text);\n        var hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);\n\n        if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n          text = text.substring(1, text.length - 1);\n        }\n\n        text = _escape(text, true);\n        return {\n          type: 'codespan',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    _proto.br = function br(src) {\n      var cap = this.rules.inline.br.exec(src);\n\n      if (cap) {\n        return {\n          type: 'br',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.del = function del(src) {\n      var cap = this.rules.inline.del.exec(src);\n\n      if (cap) {\n        return {\n          type: 'del',\n          raw: cap[0],\n          text: cap[2]\n        };\n      }\n    };\n\n    _proto.autolink = function autolink(src, mangle) {\n      var cap = this.rules.inline.autolink.exec(src);\n\n      if (cap) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = _escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n          href = 'mailto:' + text;\n        } else {\n          text = _escape(cap[1]);\n          href = text;\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.url = function url(src, mangle) {\n      var cap;\n\n      if (cap = this.rules.inline.url.exec(src)) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = _escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n          href = 'mailto:' + text;\n        } else {\n          // do extended autolink path validation\n          var prevCapZero;\n\n          do {\n            prevCapZero = cap[0];\n            cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n          } while (prevCapZero !== cap[0]);\n\n          text = _escape(cap[0]);\n\n          if (cap[1] === 'www.') {\n            href = 'http://' + text;\n          } else {\n            href = text;\n          }\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.inlineText = function inlineText(src, inRawBlock, smartypants) {\n      var cap = this.rules.inline.text.exec(src);\n\n      if (cap) {\n        var text;\n\n        if (inRawBlock) {\n          text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0];\n        } else {\n          text = _escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n        }\n\n        return {\n          type: 'text',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    return Tokenizer;\n  }();\n\n  var noopTest$1 = helpers.noopTest,\n      edit$1 = helpers.edit,\n      merge$1 = helpers.merge;\n  /**\n   * Block-Level Grammar\n   */\n\n  var block = {\n    newline: /^(?: *(?:\\n|$))+/,\n    code: /^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/,\n    fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n    hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n    heading: /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,\n    blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n    list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?! {0,3}bull )\\n*|\\s*$)/,\n    html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n    def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n    nptable: noopTest$1,\n    table: noopTest$1,\n    lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n    // regex template, placeholders will be replaced according to different paragraph\n    // interruption rules of commonmark and the original markdown spec:\n    _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html| +\\n)[^\\n]+)*)/,\n    text: /^[^\\n]+/\n  };\n  block._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\n  block._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\n  block.def = edit$1(block.def).replace('label', block._label).replace('title', block._title).getRegex();\n  block.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\n  block.item = /^( *)(bull) ?[^\\n]*(?:\\n(?! *bull ?)[^\\n]*)*/;\n  block.item = edit$1(block.item, 'gm').replace(/bull/g, block.bullet).getRegex();\n  block.listItemStart = edit$1(/^( *)(bull)/).replace('bull', block.bullet).getRegex();\n  block.list = edit$1(block.list).replace(/bull/g, block.bullet).replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))').replace('def', '\\\\n+(?=' + block.def.source + ')').getRegex();\n  block._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';\n  block._comment = /<!--(?!-?>)[\\s\\S]*?(?:-->|$)/;\n  block.html = edit$1(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex();\n  block.paragraph = edit$1(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n  block.blockquote = edit$1(block.blockquote).replace('paragraph', block.paragraph).getRegex();\n  /**\n   * Normal Block Grammar\n   */\n\n  block.normal = merge$1({}, block);\n  /**\n   * GFM Block Grammar\n   */\n\n  block.gfm = merge$1({}, block.normal, {\n    nptable: '^ *([^|\\\\n ].*\\\\|.*)\\\\n' // Header\n    + ' {0,3}([-:]+ *\\\\|[-| :]*)' // Align\n    + '(?:\\\\n((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)',\n    // Cells\n    table: '^ *\\\\|(.+)\\\\n' // Header\n    + ' {0,3}\\\\|?( *[-:]+[-| :]*)' // Align\n    + '(?:\\\\n *((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n\n  });\n  block.gfm.nptable = edit$1(block.gfm.nptable).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n  block.gfm.table = edit$1(block.gfm.table).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n  /**\n   * Pedantic grammar (original John Gruber's loose markdown specification)\n   */\n\n  block.pedantic = merge$1({}, block.normal, {\n    html: edit$1('^ *(?:comment *(?:\\\\n|\\\\s*$)' + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b').getRegex(),\n    def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n    heading: /^(#{1,6})(.*)(?:\\n+|$)/,\n    fences: noopTest$1,\n    // fences not supported\n    paragraph: edit$1(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()\n  });\n  /**\n   * Inline-Level Grammar\n   */\n\n  var inline = {\n    escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n    autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n    url: noopTest$1,\n    tag: '^comment' + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>',\n    // CDATA section\n    link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n    reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n    nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n    reflinkSearch: 'reflink|nolink(?!\\\\()',\n    strong: {\n      start: /^(?:(\\*\\*(?=[*punctuation]))|\\*\\*)(?![\\s])|__/,\n      // (1) returns if starts w/ punctuation\n      middle: /^\\*\\*(?:(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)|\\*(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)*?\\*)+?\\*\\*$|^__(?![\\s])((?:(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)*?_)+?)__$/,\n      endAst: /[^punctuation\\s]\\*\\*(?!\\*)|[punctuation]\\*\\*(?!\\*)(?:(?=[punctuation_\\s]|$))/,\n      // last char can't be punct, or final * must also be followed by punct (or endline)\n      endUnd: /[^\\s]__(?!_)(?:(?=[punctuation*\\s])|$)/ // last char can't be a space, and final _ must preceed punct or \\s (or endline)\n\n    },\n    em: {\n      start: /^(?:(\\*(?=[punctuation]))|\\*)(?![*\\s])|_/,\n      // (1) returns if starts w/ punctuation\n      middle: /^\\*(?:(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)|\\*(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)*?\\*)+?\\*$|^_(?![_\\s])(?:(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)*?_)+?_$/,\n      endAst: /[^punctuation\\s]\\*(?!\\*)|[punctuation]\\*(?!\\*)(?:(?=[punctuation_\\s]|$))/,\n      // last char can't be punct, or final * must also be followed by punct (or endline)\n      endUnd: /[^\\s]_(?!_)(?:(?=[punctuation*\\s])|$)/ // last char can't be a space, and final _ must preceed punct or \\s (or endline)\n\n    },\n    code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n    br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n    del: noopTest$1,\n    text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n    punctuation: /^([\\s*punctuation])/\n  }; // list of punctuation marks from common mark spec\n  // without * and _ to workaround cases with double emphasis\n\n  inline._punctuation = '!\"#$%&\\'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~';\n  inline.punctuation = edit$1(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex(); // sequences em should skip over [title](link), `code`, <html>\n\n  inline._blockSkip = '\\\\[[^\\\\]]*?\\\\]\\\\([^\\\\)]*?\\\\)|`[^`]*?`|<[^>]*?>';\n  inline._overlapSkip = '__[^_]*?__|\\\\*\\\\*\\\\[^\\\\*\\\\]*?\\\\*\\\\*';\n  inline._comment = edit$1(block._comment).replace('(?:-->|$)', '-->').getRegex();\n  inline.em.start = edit$1(inline.em.start).replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.em.middle = edit$1(inline.em.middle).replace(/punctuation/g, inline._punctuation).replace(/overlapSkip/g, inline._overlapSkip).getRegex();\n  inline.em.endAst = edit$1(inline.em.endAst, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.em.endUnd = edit$1(inline.em.endUnd, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.strong.start = edit$1(inline.strong.start).replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.strong.middle = edit$1(inline.strong.middle).replace(/punctuation/g, inline._punctuation).replace(/overlapSkip/g, inline._overlapSkip).getRegex();\n  inline.strong.endAst = edit$1(inline.strong.endAst, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.strong.endUnd = edit$1(inline.strong.endUnd, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.blockSkip = edit$1(inline._blockSkip, 'g').getRegex();\n  inline.overlapSkip = edit$1(inline._overlapSkip, 'g').getRegex();\n  inline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n  inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\n  inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\n  inline.autolink = edit$1(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();\n  inline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n  inline.tag = edit$1(inline.tag).replace('comment', inline._comment).replace('attribute', inline._attribute).getRegex();\n  inline._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\n  inline._href = /<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/;\n  inline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n  inline.link = edit$1(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();\n  inline.reflink = edit$1(inline.reflink).replace('label', inline._label).getRegex();\n  inline.reflinkSearch = edit$1(inline.reflinkSearch, 'g').replace('reflink', inline.reflink).replace('nolink', inline.nolink).getRegex();\n  /**\n   * Normal Inline Grammar\n   */\n\n  inline.normal = merge$1({}, inline);\n  /**\n   * Pedantic Inline Grammar\n   */\n\n  inline.pedantic = merge$1({}, inline.normal, {\n    strong: {\n      start: /^__|\\*\\*/,\n      middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n      endAst: /\\*\\*(?!\\*)/g,\n      endUnd: /__(?!_)/g\n    },\n    em: {\n      start: /^_|\\*/,\n      middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n      endAst: /\\*(?!\\*)/g,\n      endUnd: /_(?!_)/g\n    },\n    link: edit$1(/^!?\\[(label)\\]\\((.*?)\\)/).replace('label', inline._label).getRegex(),\n    reflink: edit$1(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace('label', inline._label).getRegex()\n  });\n  /**\n   * GFM Inline Grammar\n   */\n\n  inline.gfm = merge$1({}, inline.normal, {\n    escape: edit$1(inline.escape).replace('])', '~|])').getRegex(),\n    _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n    url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n    _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n    del: /^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,\n    text: /^([`~]+|[^`~])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/\n  });\n  inline.gfm.url = edit$1(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();\n  /**\n   * GFM + Line Breaks Inline Grammar\n   */\n\n  inline.breaks = merge$1({}, inline.gfm, {\n    br: edit$1(inline.br).replace('{2,}', '*').getRegex(),\n    text: edit$1(inline.gfm.text).replace('\\\\b_', '\\\\b_| {2,}\\\\n').replace(/\\{2,\\}/g, '*').getRegex()\n  });\n  var rules = {\n    block: block,\n    inline: inline\n  };\n\n  var defaults$2 = defaults.defaults;\n  var block$1 = rules.block,\n      inline$1 = rules.inline;\n  var repeatString$1 = helpers.repeatString;\n  /**\n   * smartypants text replacement\n   */\n\n  function smartypants(text) {\n    return text // em-dashes\n    .replace(/---/g, \"\\u2014\") // en-dashes\n    .replace(/--/g, \"\\u2013\") // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, \"$1\\u2018\") // closing singles & apostrophes\n    .replace(/'/g, \"\\u2019\") // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, \"$1\\u201C\") // closing doubles\n    .replace(/\"/g, \"\\u201D\") // ellipses\n    .replace(/\\.{3}/g, \"\\u2026\");\n  }\n  /**\n   * mangle email addresses\n   */\n\n\n  function mangle(text) {\n    var out = '',\n        i,\n        ch;\n    var l = text.length;\n\n    for (i = 0; i < l; i++) {\n      ch = text.charCodeAt(i);\n\n      if (Math.random() > 0.5) {\n        ch = 'x' + ch.toString(16);\n      }\n\n      out += '&#' + ch + ';';\n    }\n\n    return out;\n  }\n  /**\n   * Block Lexer\n   */\n\n\n  var Lexer_1 = /*#__PURE__*/function () {\n    function Lexer(options) {\n      this.tokens = [];\n      this.tokens.links = Object.create(null);\n      this.options = options || defaults$2;\n      this.options.tokenizer = this.options.tokenizer || new Tokenizer_1();\n      this.tokenizer = this.options.tokenizer;\n      this.tokenizer.options = this.options;\n      var rules = {\n        block: block$1.normal,\n        inline: inline$1.normal\n      };\n\n      if (this.options.pedantic) {\n        rules.block = block$1.pedantic;\n        rules.inline = inline$1.pedantic;\n      } else if (this.options.gfm) {\n        rules.block = block$1.gfm;\n\n        if (this.options.breaks) {\n          rules.inline = inline$1.breaks;\n        } else {\n          rules.inline = inline$1.gfm;\n        }\n      }\n\n      this.tokenizer.rules = rules;\n    }\n    /**\n     * Expose Rules\n     */\n\n\n    /**\n     * Static Lex Method\n     */\n    Lexer.lex = function lex(src, options) {\n      var lexer = new Lexer(options);\n      return lexer.lex(src);\n    }\n    /**\n     * Static Lex Inline Method\n     */\n    ;\n\n    Lexer.lexInline = function lexInline(src, options) {\n      var lexer = new Lexer(options);\n      return lexer.inlineTokens(src);\n    }\n    /**\n     * Preprocessing\n     */\n    ;\n\n    var _proto = Lexer.prototype;\n\n    _proto.lex = function lex(src) {\n      src = src.replace(/\\r\\n|\\r/g, '\\n').replace(/\\t/g, '    ');\n      this.blockTokens(src, this.tokens, true);\n      this.inline(this.tokens);\n      return this.tokens;\n    }\n    /**\n     * Lexing\n     */\n    ;\n\n    _proto.blockTokens = function blockTokens(src, tokens, top) {\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      if (top === void 0) {\n        top = true;\n      }\n\n      if (this.options.pedantic) {\n        src = src.replace(/^ +$/gm, '');\n      }\n\n      var token, i, l, lastToken;\n\n      while (src) {\n        // newline\n        if (token = this.tokenizer.space(src)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type) {\n            tokens.push(token);\n          }\n\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.code(src, tokens)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type) {\n            tokens.push(token);\n          } else {\n            lastToken = tokens[tokens.length - 1];\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n          }\n\n          continue;\n        } // fences\n\n\n        if (token = this.tokenizer.fences(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // heading\n\n\n        if (token = this.tokenizer.heading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // table no leading pipe (gfm)\n\n\n        if (token = this.tokenizer.nptable(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // hr\n\n\n        if (token = this.tokenizer.hr(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // blockquote\n\n\n        if (token = this.tokenizer.blockquote(src)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.blockTokens(token.text, [], top);\n          tokens.push(token);\n          continue;\n        } // list\n\n\n        if (token = this.tokenizer.list(src)) {\n          src = src.substring(token.raw.length);\n          l = token.items.length;\n\n          for (i = 0; i < l; i++) {\n            token.items[i].tokens = this.blockTokens(token.items[i].text, [], false);\n          }\n\n          tokens.push(token);\n          continue;\n        } // html\n\n\n        if (token = this.tokenizer.html(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // def\n\n\n        if (top && (token = this.tokenizer.def(src))) {\n          src = src.substring(token.raw.length);\n\n          if (!this.tokens.links[token.tag]) {\n            this.tokens.links[token.tag] = {\n              href: token.href,\n              title: token.title\n            };\n          }\n\n          continue;\n        } // table (gfm)\n\n\n        if (token = this.tokenizer.table(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // lheading\n\n\n        if (token = this.tokenizer.lheading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // top-level paragraph\n\n\n        if (top && (token = this.tokenizer.paragraph(src))) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // text\n\n\n        if (token = this.tokenizer.text(src, tokens)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type) {\n            tokens.push(token);\n          } else {\n            lastToken = tokens[tokens.length - 1];\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n          }\n\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      return tokens;\n    };\n\n    _proto.inline = function inline(tokens) {\n      var i, j, k, l2, row, token;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i];\n\n        switch (token.type) {\n          case 'paragraph':\n          case 'text':\n          case 'heading':\n            {\n              token.tokens = [];\n              this.inlineTokens(token.text, token.tokens);\n              break;\n            }\n\n          case 'table':\n            {\n              token.tokens = {\n                header: [],\n                cells: []\n              }; // header\n\n              l2 = token.header.length;\n\n              for (j = 0; j < l2; j++) {\n                token.tokens.header[j] = [];\n                this.inlineTokens(token.header[j], token.tokens.header[j]);\n              } // cells\n\n\n              l2 = token.cells.length;\n\n              for (j = 0; j < l2; j++) {\n                row = token.cells[j];\n                token.tokens.cells[j] = [];\n\n                for (k = 0; k < row.length; k++) {\n                  token.tokens.cells[j][k] = [];\n                  this.inlineTokens(row[k], token.tokens.cells[j][k]);\n                }\n              }\n\n              break;\n            }\n\n          case 'blockquote':\n            {\n              this.inline(token.tokens);\n              break;\n            }\n\n          case 'list':\n            {\n              l2 = token.items.length;\n\n              for (j = 0; j < l2; j++) {\n                this.inline(token.items[j].tokens);\n              }\n\n              break;\n            }\n        }\n      }\n\n      return tokens;\n    }\n    /**\n     * Lexing/Compiling\n     */\n    ;\n\n    _proto.inlineTokens = function inlineTokens(src, tokens, inLink, inRawBlock) {\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      if (inLink === void 0) {\n        inLink = false;\n      }\n\n      if (inRawBlock === void 0) {\n        inRawBlock = false;\n      }\n\n      var token; // String with links masked to avoid interference with em and strong\n\n      var maskedSrc = src;\n      var match;\n      var keepPrevChar, prevChar; // Mask out reflinks\n\n      if (this.tokens.links) {\n        var links = Object.keys(this.tokens.links);\n\n        if (links.length > 0) {\n          while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n            if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n              maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString$1('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n            }\n          }\n        }\n      } // Mask out other blocks\n\n\n      while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n        maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString$1('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n      }\n\n      while (src) {\n        if (!keepPrevChar) {\n          prevChar = '';\n        }\n\n        keepPrevChar = false; // escape\n\n        if (token = this.tokenizer.escape(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // tag\n\n\n        if (token = this.tokenizer.tag(src, inLink, inRawBlock)) {\n          src = src.substring(token.raw.length);\n          inLink = token.inLink;\n          inRawBlock = token.inRawBlock;\n          tokens.push(token);\n          continue;\n        } // link\n\n\n        if (token = this.tokenizer.link(src)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type === 'link') {\n            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n          }\n\n          tokens.push(token);\n          continue;\n        } // reflink, nolink\n\n\n        if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type === 'link') {\n            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n          }\n\n          tokens.push(token);\n          continue;\n        } // strong\n\n\n        if (token = this.tokenizer.strong(src, maskedSrc, prevChar)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // em\n\n\n        if (token = this.tokenizer.em(src, maskedSrc, prevChar)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.codespan(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // br\n\n\n        if (token = this.tokenizer.br(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // del (gfm)\n\n\n        if (token = this.tokenizer.del(src)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // autolink\n\n\n        if (token = this.tokenizer.autolink(src, mangle)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // url (gfm)\n\n\n        if (!inLink && (token = this.tokenizer.url(src, mangle))) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // text\n\n\n        if (token = this.tokenizer.inlineText(src, inRawBlock, smartypants)) {\n          src = src.substring(token.raw.length);\n          prevChar = token.raw.slice(-1);\n          keepPrevChar = true;\n          tokens.push(token);\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      return tokens;\n    };\n\n    _createClass(Lexer, null, [{\n      key: \"rules\",\n      get: function get() {\n        return {\n          block: block$1,\n          inline: inline$1\n        };\n      }\n    }]);\n\n    return Lexer;\n  }();\n\n  var defaults$3 = defaults.defaults;\n  var cleanUrl$1 = helpers.cleanUrl,\n      escape$1 = helpers.escape;\n  /**\n   * Renderer\n   */\n\n  var Renderer_1 = /*#__PURE__*/function () {\n    function Renderer(options) {\n      this.options = options || defaults$3;\n    }\n\n    var _proto = Renderer.prototype;\n\n    _proto.code = function code(_code, infostring, escaped) {\n      var lang = (infostring || '').match(/\\S*/)[0];\n\n      if (this.options.highlight) {\n        var out = this.options.highlight(_code, lang);\n\n        if (out != null && out !== _code) {\n          escaped = true;\n          _code = out;\n        }\n      }\n\n      _code = _code.replace(/\\n$/, '') + '\\n';\n\n      if (!lang) {\n        return '<pre><code>' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\\n';\n      }\n\n      return '<pre><code class=\"' + this.options.langPrefix + escape$1(lang, true) + '\">' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\\n';\n    };\n\n    _proto.blockquote = function blockquote(quote) {\n      return '<blockquote>\\n' + quote + '</blockquote>\\n';\n    };\n\n    _proto.html = function html(_html) {\n      return _html;\n    };\n\n    _proto.heading = function heading(text, level, raw, slugger) {\n      if (this.options.headerIds) {\n        return '<h' + level + ' id=\"' + this.options.headerPrefix + slugger.slug(raw) + '\">' + text + '</h' + level + '>\\n';\n      } // ignore IDs\n\n\n      return '<h' + level + '>' + text + '</h' + level + '>\\n';\n    };\n\n    _proto.hr = function hr() {\n      return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n    };\n\n    _proto.list = function list(body, ordered, start) {\n      var type = ordered ? 'ol' : 'ul',\n          startatt = ordered && start !== 1 ? ' start=\"' + start + '\"' : '';\n      return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n    };\n\n    _proto.listitem = function listitem(text) {\n      return '<li>' + text + '</li>\\n';\n    };\n\n    _proto.checkbox = function checkbox(checked) {\n      return '<input ' + (checked ? 'checked=\"\" ' : '') + 'disabled=\"\" type=\"checkbox\"' + (this.options.xhtml ? ' /' : '') + '> ';\n    };\n\n    _proto.paragraph = function paragraph(text) {\n      return '<p>' + text + '</p>\\n';\n    };\n\n    _proto.table = function table(header, body) {\n      if (body) body = '<tbody>' + body + '</tbody>';\n      return '<table>\\n' + '<thead>\\n' + header + '</thead>\\n' + body + '</table>\\n';\n    };\n\n    _proto.tablerow = function tablerow(content) {\n      return '<tr>\\n' + content + '</tr>\\n';\n    };\n\n    _proto.tablecell = function tablecell(content, flags) {\n      var type = flags.header ? 'th' : 'td';\n      var tag = flags.align ? '<' + type + ' align=\"' + flags.align + '\">' : '<' + type + '>';\n      return tag + content + '</' + type + '>\\n';\n    } // span level renderer\n    ;\n\n    _proto.strong = function strong(text) {\n      return '<strong>' + text + '</strong>';\n    };\n\n    _proto.em = function em(text) {\n      return '<em>' + text + '</em>';\n    };\n\n    _proto.codespan = function codespan(text) {\n      return '<code>' + text + '</code>';\n    };\n\n    _proto.br = function br() {\n      return this.options.xhtml ? '<br/>' : '<br>';\n    };\n\n    _proto.del = function del(text) {\n      return '<del>' + text + '</del>';\n    };\n\n    _proto.link = function link(href, title, text) {\n      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = '<a href=\"' + escape$1(href) + '\"';\n\n      if (title) {\n        out += ' title=\"' + title + '\"';\n      }\n\n      out += '>' + text + '</a>';\n      return out;\n    };\n\n    _proto.image = function image(href, title, text) {\n      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n\n      if (title) {\n        out += ' title=\"' + title + '\"';\n      }\n\n      out += this.options.xhtml ? '/>' : '>';\n      return out;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    return Renderer;\n  }();\n\n  /**\n   * TextRenderer\n   * returns only the textual part of the token\n   */\n  var TextRenderer_1 = /*#__PURE__*/function () {\n    function TextRenderer() {}\n\n    var _proto = TextRenderer.prototype;\n\n    // no need for block level renderers\n    _proto.strong = function strong(text) {\n      return text;\n    };\n\n    _proto.em = function em(text) {\n      return text;\n    };\n\n    _proto.codespan = function codespan(text) {\n      return text;\n    };\n\n    _proto.del = function del(text) {\n      return text;\n    };\n\n    _proto.html = function html(text) {\n      return text;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    _proto.link = function link(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.image = function image(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.br = function br() {\n      return '';\n    };\n\n    return TextRenderer;\n  }();\n\n  /**\n   * Slugger generates header id\n   */\n  var Slugger_1 = /*#__PURE__*/function () {\n    function Slugger() {\n      this.seen = {};\n    }\n\n    var _proto = Slugger.prototype;\n\n    _proto.serialize = function serialize(value) {\n      return value.toLowerCase().trim() // remove html tags\n      .replace(/<[!\\/a-z].*?>/ig, '') // remove unwanted chars\n      .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '').replace(/\\s/g, '-');\n    }\n    /**\n     * Finds the next safe (unique) slug to use\n     */\n    ;\n\n    _proto.getNextSafeSlug = function getNextSafeSlug(originalSlug, isDryRun) {\n      var slug = originalSlug;\n      var occurenceAccumulator = 0;\n\n      if (this.seen.hasOwnProperty(slug)) {\n        occurenceAccumulator = this.seen[originalSlug];\n\n        do {\n          occurenceAccumulator++;\n          slug = originalSlug + '-' + occurenceAccumulator;\n        } while (this.seen.hasOwnProperty(slug));\n      }\n\n      if (!isDryRun) {\n        this.seen[originalSlug] = occurenceAccumulator;\n        this.seen[slug] = 0;\n      }\n\n      return slug;\n    }\n    /**\n     * Convert string to unique id\n     * @param {object} options\n     * @param {boolean} options.dryrun Generates the next unique slug without updating the internal accumulator.\n     */\n    ;\n\n    _proto.slug = function slug(value, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      var slug = this.serialize(value);\n      return this.getNextSafeSlug(slug, options.dryrun);\n    };\n\n    return Slugger;\n  }();\n\n  var defaults$4 = defaults.defaults;\n  var unescape$1 = helpers.unescape;\n  /**\n   * Parsing & Compiling\n   */\n\n  var Parser_1 = /*#__PURE__*/function () {\n    function Parser(options) {\n      this.options = options || defaults$4;\n      this.options.renderer = this.options.renderer || new Renderer_1();\n      this.renderer = this.options.renderer;\n      this.renderer.options = this.options;\n      this.textRenderer = new TextRenderer_1();\n      this.slugger = new Slugger_1();\n    }\n    /**\n     * Static Parse Method\n     */\n\n\n    Parser.parse = function parse(tokens, options) {\n      var parser = new Parser(options);\n      return parser.parse(tokens);\n    }\n    /**\n     * Static Parse Inline Method\n     */\n    ;\n\n    Parser.parseInline = function parseInline(tokens, options) {\n      var parser = new Parser(options);\n      return parser.parseInline(tokens);\n    }\n    /**\n     * Parse Loop\n     */\n    ;\n\n    var _proto = Parser.prototype;\n\n    _proto.parse = function parse(tokens, top) {\n      if (top === void 0) {\n        top = true;\n      }\n\n      var out = '',\n          i,\n          j,\n          k,\n          l2,\n          l3,\n          row,\n          cell,\n          header,\n          body,\n          token,\n          ordered,\n          start,\n          loose,\n          itemBody,\n          item,\n          checked,\n          task,\n          checkbox;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i];\n\n        switch (token.type) {\n          case 'space':\n            {\n              continue;\n            }\n\n          case 'hr':\n            {\n              out += this.renderer.hr();\n              continue;\n            }\n\n          case 'heading':\n            {\n              out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape$1(this.parseInline(token.tokens, this.textRenderer)), this.slugger);\n              continue;\n            }\n\n          case 'code':\n            {\n              out += this.renderer.code(token.text, token.lang, token.escaped);\n              continue;\n            }\n\n          case 'table':\n            {\n              header = ''; // header\n\n              cell = '';\n              l2 = token.header.length;\n\n              for (j = 0; j < l2; j++) {\n                cell += this.renderer.tablecell(this.parseInline(token.tokens.header[j]), {\n                  header: true,\n                  align: token.align[j]\n                });\n              }\n\n              header += this.renderer.tablerow(cell);\n              body = '';\n              l2 = token.cells.length;\n\n              for (j = 0; j < l2; j++) {\n                row = token.tokens.cells[j];\n                cell = '';\n                l3 = row.length;\n\n                for (k = 0; k < l3; k++) {\n                  cell += this.renderer.tablecell(this.parseInline(row[k]), {\n                    header: false,\n                    align: token.align[k]\n                  });\n                }\n\n                body += this.renderer.tablerow(cell);\n              }\n\n              out += this.renderer.table(header, body);\n              continue;\n            }\n\n          case 'blockquote':\n            {\n              body = this.parse(token.tokens);\n              out += this.renderer.blockquote(body);\n              continue;\n            }\n\n          case 'list':\n            {\n              ordered = token.ordered;\n              start = token.start;\n              loose = token.loose;\n              l2 = token.items.length;\n              body = '';\n\n              for (j = 0; j < l2; j++) {\n                item = token.items[j];\n                checked = item.checked;\n                task = item.task;\n                itemBody = '';\n\n                if (item.task) {\n                  checkbox = this.renderer.checkbox(checked);\n\n                  if (loose) {\n                    if (item.tokens.length > 0 && item.tokens[0].type === 'text') {\n                      item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n\n                      if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                        item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                      }\n                    } else {\n                      item.tokens.unshift({\n                        type: 'text',\n                        text: checkbox\n                      });\n                    }\n                  } else {\n                    itemBody += checkbox;\n                  }\n                }\n\n                itemBody += this.parse(item.tokens, loose);\n                body += this.renderer.listitem(itemBody, task, checked);\n              }\n\n              out += this.renderer.list(body, ordered, start);\n              continue;\n            }\n\n          case 'html':\n            {\n              // TODO parse inline content if parameter markdown=1\n              out += this.renderer.html(token.text);\n              continue;\n            }\n\n          case 'paragraph':\n            {\n              out += this.renderer.paragraph(this.parseInline(token.tokens));\n              continue;\n            }\n\n          case 'text':\n            {\n              body = token.tokens ? this.parseInline(token.tokens) : token.text;\n\n              while (i + 1 < l && tokens[i + 1].type === 'text') {\n                token = tokens[++i];\n                body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n              }\n\n              out += top ? this.renderer.paragraph(body) : body;\n              continue;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    }\n    /**\n     * Parse Inline Tokens\n     */\n    ;\n\n    _proto.parseInline = function parseInline(tokens, renderer) {\n      renderer = renderer || this.renderer;\n      var out = '',\n          i,\n          token;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i];\n\n        switch (token.type) {\n          case 'escape':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          case 'html':\n            {\n              out += renderer.html(token.text);\n              break;\n            }\n\n          case 'link':\n            {\n              out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'image':\n            {\n              out += renderer.image(token.href, token.title, token.text);\n              break;\n            }\n\n          case 'strong':\n            {\n              out += renderer.strong(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'em':\n            {\n              out += renderer.em(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'codespan':\n            {\n              out += renderer.codespan(token.text);\n              break;\n            }\n\n          case 'br':\n            {\n              out += renderer.br();\n              break;\n            }\n\n          case 'del':\n            {\n              out += renderer.del(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'text':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    };\n\n    return Parser;\n  }();\n\n  var merge$2 = helpers.merge,\n      checkSanitizeDeprecation$1 = helpers.checkSanitizeDeprecation,\n      escape$2 = helpers.escape;\n  var getDefaults = defaults.getDefaults,\n      changeDefaults = defaults.changeDefaults,\n      defaults$5 = defaults.defaults;\n  /**\n   * Marked\n   */\n\n  function marked(src, opt, callback) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    if (typeof opt === 'function') {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge$2({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation$1(opt);\n\n    if (callback) {\n      var highlight = opt.highlight;\n      var tokens;\n\n      try {\n        tokens = Lexer_1.lex(src, opt);\n      } catch (e) {\n        return callback(e);\n      }\n\n      var done = function done(err) {\n        var out;\n\n        if (!err) {\n          try {\n            out = Parser_1.parse(tokens, opt);\n          } catch (e) {\n            err = e;\n          }\n        }\n\n        opt.highlight = highlight;\n        return err ? callback(err) : callback(null, out);\n      };\n\n      if (!highlight || highlight.length < 3) {\n        return done();\n      }\n\n      delete opt.highlight;\n      if (!tokens.length) return done();\n      var pending = 0;\n      marked.walkTokens(tokens, function (token) {\n        if (token.type === 'code') {\n          pending++;\n          setTimeout(function () {\n            highlight(token.text, token.lang, function (err, code) {\n              if (err) {\n                return done(err);\n              }\n\n              if (code != null && code !== token.text) {\n                token.text = code;\n                token.escaped = true;\n              }\n\n              pending--;\n\n              if (pending === 0) {\n                done();\n              }\n            });\n          }, 0);\n        }\n      });\n\n      if (pending === 0) {\n        done();\n      }\n\n      return;\n    }\n\n    try {\n      var _tokens = Lexer_1.lex(src, opt);\n\n      if (opt.walkTokens) {\n        marked.walkTokens(_tokens, opt.walkTokens);\n      }\n\n      return Parser_1.parse(_tokens, opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if (opt.silent) {\n        return '<p>An error occurred:</p><pre>' + escape$2(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  }\n  /**\n   * Options\n   */\n\n\n  marked.options = marked.setOptions = function (opt) {\n    merge$2(marked.defaults, opt);\n    changeDefaults(marked.defaults);\n    return marked;\n  };\n\n  marked.getDefaults = getDefaults;\n  marked.defaults = defaults$5;\n  /**\n   * Use Extension\n   */\n\n  marked.use = function (extension) {\n    var opts = merge$2({}, extension);\n\n    if (extension.renderer) {\n      (function () {\n        var renderer = marked.defaults.renderer || new Renderer_1();\n\n        var _loop = function _loop(prop) {\n          var prevRenderer = renderer[prop];\n\n          renderer[prop] = function () {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            var ret = extension.renderer[prop].apply(renderer, args);\n\n            if (ret === false) {\n              ret = prevRenderer.apply(renderer, args);\n            }\n\n            return ret;\n          };\n        };\n\n        for (var prop in extension.renderer) {\n          _loop(prop);\n        }\n\n        opts.renderer = renderer;\n      })();\n    }\n\n    if (extension.tokenizer) {\n      (function () {\n        var tokenizer = marked.defaults.tokenizer || new Tokenizer_1();\n\n        var _loop2 = function _loop2(prop) {\n          var prevTokenizer = tokenizer[prop];\n\n          tokenizer[prop] = function () {\n            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              args[_key2] = arguments[_key2];\n            }\n\n            var ret = extension.tokenizer[prop].apply(tokenizer, args);\n\n            if (ret === false) {\n              ret = prevTokenizer.apply(tokenizer, args);\n            }\n\n            return ret;\n          };\n        };\n\n        for (var prop in extension.tokenizer) {\n          _loop2(prop);\n        }\n\n        opts.tokenizer = tokenizer;\n      })();\n    }\n\n    if (extension.walkTokens) {\n      var walkTokens = marked.defaults.walkTokens;\n\n      opts.walkTokens = function (token) {\n        extension.walkTokens(token);\n\n        if (walkTokens) {\n          walkTokens(token);\n        }\n      };\n    }\n\n    marked.setOptions(opts);\n  };\n  /**\n   * Run callback for every token\n   */\n\n\n  marked.walkTokens = function (tokens, callback) {\n    for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {\n      var token = _step.value;\n      callback(token);\n\n      switch (token.type) {\n        case 'table':\n          {\n            for (var _iterator2 = _createForOfIteratorHelperLoose(token.tokens.header), _step2; !(_step2 = _iterator2()).done;) {\n              var cell = _step2.value;\n              marked.walkTokens(cell, callback);\n            }\n\n            for (var _iterator3 = _createForOfIteratorHelperLoose(token.tokens.cells), _step3; !(_step3 = _iterator3()).done;) {\n              var row = _step3.value;\n\n              for (var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;) {\n                var _cell = _step4.value;\n                marked.walkTokens(_cell, callback);\n              }\n            }\n\n            break;\n          }\n\n        case 'list':\n          {\n            marked.walkTokens(token.items, callback);\n            break;\n          }\n\n        default:\n          {\n            if (token.tokens) {\n              marked.walkTokens(token.tokens, callback);\n            }\n          }\n      }\n    }\n  };\n  /**\n   * Parse Inline\n   */\n\n\n  marked.parseInline = function (src, opt) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked.parseInline(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked.parseInline(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    opt = merge$2({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation$1(opt);\n\n    try {\n      var tokens = Lexer_1.lexInline(src, opt);\n\n      if (opt.walkTokens) {\n        marked.walkTokens(tokens, opt.walkTokens);\n      }\n\n      return Parser_1.parseInline(tokens, opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if (opt.silent) {\n        return '<p>An error occurred:</p><pre>' + escape$2(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  };\n  /**\n   * Expose\n   */\n\n\n  marked.Parser = Parser_1;\n  marked.parser = Parser_1.parse;\n  marked.Renderer = Renderer_1;\n  marked.TextRenderer = TextRenderer_1;\n  marked.Lexer = Lexer_1;\n  marked.lexer = Lexer_1.lex;\n  marked.Tokenizer = Tokenizer_1;\n  marked.Slugger = Slugger_1;\n  marked.parse = marked;\n  var marked_1 = marked;\n\n  return marked_1;\n\n})));\n","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","// extracted by mini-css-extract-plugin","\r\nimport 'codemirror/lib/codemirror.css';\r\nimport './index.css';\r\nimport Editor from './editor.vue';\r\n\r\n\r\nvar MarkdownEditor = {\r\n    install: function (Vue) {\r\n        if (Vue.__md_editor_installed) {\r\n            return;\r\n        }\r\n\r\n        Vue.__md_editor_installed = true;\r\n\r\n        Vue.component('markdown-editor', Editor);\r\n    }\r\n};\r\n\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n    Vue.use(MarkdownEditor);\r\n}\r\n\r\nexport default MarkdownEditor;","<template>\r\n    <div class=\"wrapper\">\r\n        <div class=\"container\">\r\n\r\n            <div class=\"card\">\r\n                <div class=\"card-body\">\r\n                    <div class=\"text-center my-40\">\r\n                        <h1>v-markdown-editor</h1>\r\n                        <h4>Markdown Editor component for Vue.js</h4>\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                        <div class=\"col-12 col-lg-8\">\r\n                            <div class=\"form-group\">\r\n\r\n                                <markdown-editor ref=\"md\" placeholder=\"Enter markdown content...\"\r\n                                    v-model=\"value\">\r\n                                </markdown-editor>\r\n\r\n                            </div>\r\n\r\n\r\n                            <div class=\"form-group\">\r\n                                <button @click=\"val\" class=\"btn btn-primary\">Change</button>\r\n                                <button @click=\"replace\" class=\"btn btn-primary\">Handle</button>\r\n\r\n                            </div>\r\n\r\n\r\n                            <div class=\"form-group\">\r\n                                <pre><code>{{value}}</code></pre>\r\n                            </div>\r\n\r\n\r\n                            <pre><code>&lt;markdown-editor toolbar=&quot;bold italic upload&quot; @command:upload=&quot;upload&quot; :extend=&quot;custom&quot;&gt; &lt;/markdown-editor&gt;</code></pre>\r\n\r\n                            <div class=\"form-group\">\r\n                                <markdown-editor toolbar=\"bold italic upload\" @command:upload=\"upload\" :extend=\"custom\">\r\n                                </markdown-editor>\r\n                            </div>\r\n\r\n\r\n\r\n                            <pre><code>&#x3C;markdown-editor theme=&#x22;success&#x22;&#x3E;&#x3C;/markdown-editor&#x3E;</code></pre>\r\n\r\n                            <div class=\"form-group\">\r\n                                <markdown-editor theme=\"success\"></markdown-editor>\r\n                            </div>\r\n\r\n\r\n                            <pre><code>&#x3C;markdown-editor height=\"auto\" toolbar=&#x27;&#x27;&#x3E;&#x3C;/markdown-editor&#x3E;</code></pre>\r\n                            <div class=\"form-group\">\r\n                                <markdown-editor height=\"auto\" toolbar=''></markdown-editor>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <div class=\"col-12 col-lg-4\">\r\n                            <div class=\"viralroll\" data-id=\"5e8d2bb73364491e2a946eec\"></div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <footer class=\"text-center\">\r\n\r\n            <p>\r\n                <a class=\"social-icon\" href=\"https://github.com/nasa8x/v-markdown-editor\" target=\"_blank\">\r\n                    <i class=\"fa-3x fab fa-github-square\"></i>\r\n                </a>\r\n\r\n            </p>\r\n\r\n            <p>Themed by <a href=\"http://on.morioh.net/96d5d36367\" target=\"_blank\">Morioh Theme</a><br>\r\n                Made Love by <a href=\"https://morioh.com/@5c22e47440738156a7078a19\">Nasa8x</a>\r\n\r\n            </p>\r\n\r\n\r\n        </footer>\r\n\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                value: '',\r\n\r\n                custom: {\r\n                    'upload': {\r\n                        cmd: 'upload',\r\n                        ico: 'fas fa-cloud',\r\n                        title: 'Upload File'\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            val() {\r\n                this.value = \"This's new value\";\r\n            },           \r\n\r\n            onChange(val) {\r\n\r\n                console.log(val);\r\n            },\r\n\r\n            replace() {\r\n                this.$refs.md.editor.replaceSelection(\"Handle editor\");\r\n            },\r\n\r\n            upload(md) {\r\n                md.drawImage({ url: 'https://i.imgur.com/CbCXhBe.png', title: 'this image title' });\r\n            }\r\n        },\r\n\r\n    }\r\n\r\n</script>","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"wrapper\" }, [\n    _c(\"div\", { staticClass: \"container\" }, [\n      _c(\"div\", { staticClass: \"card\" }, [\n        _c(\"div\", { staticClass: \"card-body\" }, [\n          _vm._m(0),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"row\" }, [\n            _c(\"div\", { staticClass: \"col-12 col-lg-8\" }, [\n              _c(\n                \"div\",\n                { staticClass: \"form-group\" },\n                [\n                  _c(\"markdown-editor\", {\n                    ref: \"md\",\n                    attrs: { placeholder: \"Enter markdown content...\" },\n                    model: {\n                      value: _vm.value,\n                      callback: function ($$v) {\n                        _vm.value = $$v\n                      },\n                      expression: \"value\",\n                    },\n                  }),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"form-group\" }, [\n                _c(\n                  \"button\",\n                  { staticClass: \"btn btn-primary\", on: { click: _vm.val } },\n                  [_vm._v(\"Change\")]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"button\",\n                  {\n                    staticClass: \"btn btn-primary\",\n                    on: { click: _vm.replace },\n                  },\n                  [_vm._v(\"Handle\")]\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"form-group\" }, [\n                _c(\"pre\", [_c(\"code\", [_vm._v(_vm._s(_vm.value))])]),\n              ]),\n              _vm._v(\" \"),\n              _vm._m(1),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"form-group\" },\n                [\n                  _c(\"markdown-editor\", {\n                    attrs: {\n                      toolbar: \"bold italic upload\",\n                      extend: _vm.custom,\n                    },\n                    on: { \"command:upload\": _vm.upload },\n                  }),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _vm._m(2),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"form-group\" },\n                [_c(\"markdown-editor\", { attrs: { theme: \"success\" } })],\n                1\n              ),\n              _vm._v(\" \"),\n              _vm._m(3),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"form-group\" },\n                [\n                  _c(\"markdown-editor\", {\n                    attrs: { height: \"auto\", toolbar: \"\" },\n                  }),\n                ],\n                1\n              ),\n            ]),\n            _vm._v(\" \"),\n            _vm._m(4),\n          ]),\n        ]),\n      ]),\n    ]),\n    _vm._v(\" \"),\n    _vm._m(5),\n  ])\n}\nvar staticRenderFns = [\n  function () {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"text-center my-40\" }, [\n      _c(\"h1\", [_vm._v(\"v-markdown-editor\")]),\n      _vm._v(\" \"),\n      _c(\"h4\", [_vm._v(\"Markdown Editor component for Vue.js\")]),\n    ])\n  },\n  function () {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"pre\", [\n      _c(\"code\", [\n        _vm._v(\n          '<markdown-editor toolbar=\"bold italic upload\" @command:upload=\"upload\" :extend=\"custom\"> </markdown-editor>'\n        ),\n      ]),\n    ])\n  },\n  function () {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"pre\", [\n      _c(\"code\", [\n        _vm._v('<markdown-editor theme=\"success\"></markdown-editor>'),\n      ]),\n    ])\n  },\n  function () {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"pre\", [\n      _c(\"code\", [\n        _vm._v(\n          \"<markdown-editor height=\\\"auto\\\" toolbar=''></markdown-editor>\"\n        ),\n      ]),\n    ])\n  },\n  function () {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"col-12 col-lg-4\" }, [\n      _c(\"div\", {\n        staticClass: \"viralroll\",\n        attrs: { \"data-id\": \"5e8d2bb73364491e2a946eec\" },\n      }),\n    ])\n  },\n  function () {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"footer\", { staticClass: \"text-center\" }, [\n      _c(\"p\", [\n        _c(\n          \"a\",\n          {\n            staticClass: \"social-icon\",\n            attrs: {\n              href: \"https://github.com/nasa8x/v-markdown-editor\",\n              target: \"_blank\",\n            },\n          },\n          [_c(\"i\", { staticClass: \"fa-3x fab fa-github-square\" })]\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\"Themed by \"),\n        _c(\n          \"a\",\n          {\n            attrs: {\n              href: \"http://on.morioh.net/96d5d36367\",\n              target: \"_blank\",\n            },\n          },\n          [_vm._v(\"Morioh Theme\")]\n        ),\n        _c(\"br\"),\n        _vm._v(\"\\n            Made Love by \"),\n        _c(\n          \"a\",\n          { attrs: { href: \"https://morioh.com/@5c22e47440738156a7078a19\" } },\n          [_vm._v(\"Nasa8x\")]\n        ),\n      ]),\n    ])\n  },\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import '../dist/v-markdown-editor.css';\r\n\r\nimport Vue from 'vue';\r\nimport App from './app.vue';\r\nimport Editor from '../dist/v-markdown-editor';\r\n\r\nVue.use(Editor);\r\n\r\nnew Vue({\r\n  el: '#app', \r\n \r\n  render: h => h(App)\r\n})\r\n","import { render, staticRenderFns } from \"./app.vue?vue&type=template&id=0d4f360b&\"\nimport script from \"./app.vue?vue&type=script&lang=js&\"\nexport * from \"./app.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Programming\\\\v-markdown-editor\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('0d4f360b')) {\n      api.createRecord('0d4f360b', component.options)\n    } else {\n      api.reload('0d4f360b', component.options)\n    }\n    module.hot.accept(\"./app.vue?vue&type=template&id=0d4f360b&\", function () {\n      api.rerender('0d4f360b', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"www/app.vue\"\nexport default component.exports","import mod from \"-!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"","export * from \"-!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=template&id=0d4f360b&\"","module.exports = Vue;"],"sourceRoot":""}